!function(){"use strict";var e="undefined"==typeof global?self:global;if("function"!=typeof e.require){var t={},n={},r={},i={}.hasOwnProperty,o=/^\.\.?(\/|$)/,a=function(e,t){for(var n,r=[],i=(o.test(t)?e+"/"+t:t).split("/"),a=0,s=i.length;a<s;a++)n=i[a],".."===n?r.pop():"."!==n&&""!==n&&r.push(n);return r.join("/")},s=function(e){return e.split("/").slice(0,-1).join("/")},u=function(t){return function(n){var r=a(s(t),n);return e.require(r,t)}},l=function(e,t){var r=b&&b.createHot(e),i={id:e,exports:{},hot:r};return n[e]=i,t(i.exports,u(e),i),i.exports},c=function(e){return r[e]?c(r[e]):e},f=function(e,t){return c(a(s(e),t))},p=function(e,r){null==r&&(r="/");var o=c(e);if(i.call(n,o))return n[o].exports;if(i.call(t,o))return l(o,t[o]);throw new Error("Cannot find module '"+e+"' from '"+r+"'")};p.alias=function(e,t){r[t]=e};var d=/\.[^.\/]+$/,v=/\/index(\.[^\/]+)?$/,h=function(e){if(d.test(e)){var t=e.replace(d,"");i.call(r,t)&&r[t].replace(d,"")!==t+"/index"||(r[t]=e)}if(v.test(e)){var n=e.replace(v,"");i.call(r,n)||(r[n]=e)}};p.register=p.define=function(e,r){if(e&&"object"==typeof e)for(var o in e)i.call(e,o)&&p.register(o,e[o]);else t[e]=r,delete n[e],h(e)},p.list=function(){var e=[];for(var n in t)i.call(t,n)&&e.push(n);return e};var b=e._hmr&&new e._hmr(f,p,t,n);p._cache=n,p.hmr=b&&b.wrap,p.brunch=!0,e.require=p}}(),function(){"undefined"==typeof window?this:window;require.register("Config.js",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});e.Config=function i(){r(this,i)}}),require.register("Curvature.js",function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toast=e.tag=e.form=e.access=e.base=void 0;var r=t("base/Bindable"),i=t("base/Cache"),o=t("base/Cookie"),a=t("base/Dom"),s=t("base/Repository"),u=t("base/Router"),l=t("base/Tag"),c=t("base/Theme"),f=t("base/View"),p=t("access/LoginView"),d=t("access/UserRepository"),v=t("form/ButtonField"),h=t("form/Field"),b=t("form/FieldSet"),_=t("form/FileField"),y=t("form/Form"),g=t("form/HiddenField"),m=t("form/HtmlField"),w=t("form/SelectField"),T=t("tag/PopOutTag"),k=t("tag/ScrollTag"),O=t("toast/Toast"),j=t("toast/ToastAlert"),E={Bindable:r.Bindable,Cache:i.Cache,Cookie:o.Cookie,Dom:a.Dom,Repository:s.Repository,Router:u.Router,Tag:l.Tag,Theme:c.Theme,View:f.View},P={LoginView:p.LoginView,UserRepository:d.UserRepository},C={ButtonField:v.ButtonField,Field:h.Field,FieldSet:b.FieldSet,FileField:_.FileField,Form:y.Form,HiddenField:g.HiddenField,HtmlField:m.HtmlField,SelectField:w.SelectField},L={PopOutTag:T.PopOutTag,ScrollTag:k.ScrollTag},S={Toast:O.Toast,ToastAlert:j.ToastAlert};e.base=E,e.access=P,e.form=C,e.tag=L,e.toast=S}),require.register("access/LoginView.js",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0}),e.LoginView=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=t("Config"),u=t("../base/View"),l=t("../base/Router"),c=t("../base/Repository"),f=t("./UserRepository"),p=t("../toast/Toast"),d=t("../toast/ToastAlert");e.LoginView=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.template='\n\t\t\t<br />\n\t\t\t<br />\n\t\t\t<br />\n\t\t\t<br />\n\t\t\t<br />\n\t\t\t<br />\n\t\t\t<br />\n\t\t\t<br />\n\t\t\t<br />\n\t\t\t<br />\n\t\t\t<br />\n\t\t\t\n\t\t\t<a cv-link = "user">User</a>\n\t\t\t<br />\n\t\t\t\n\t\t\t<a cv-link = "user/login">Login</a>\n\t\t\t<br />\n\n\t\t\t<a cv-link = "user/register">Register</a>\n\t\t\t<br />\n\n\t\t\t<a cv-link = "user/logout">Logout</a>\n\t\t\t<br />\n\n\t\t\t<input\n\t\t\t\ttype  = "button"\n\t\t\t\tvalue = "Login via FaceBook"\n\t\t\t \tcv-on = "click:facebookLogin(event)"\n\t\t\t />\n\t\t\t <input\n\t\t\t\ttype  = "button"\n\t\t\t\tvalue = "Log Out"\n\t\t\t \tcv-on = "click:logout(event)"\n\t\t\t />\n\t\t',e}return o(t,e),a(t,[{key:"facebookLogin",value:function(e){var t=this;console.log("fb!"),e.preventDefault();window.open(s.Config.backend+"/facebookLogin");this.userCheck&&this.clearInterval(this.userCheck),this.userCheck=this.onInterval(333,function(){f.UserRepository.getCurrentUser(!0).then(function(e){var n=e.body;n.id&&n&&(t.clearInterval(t.userCheck),l.Router.clearCache(),c.Repository.clearCache(),p.Toast.instance().pop(new d.ToastAlert({title:"Logged in as "+n.username,body:"ID: "+n.publicId,time:2400})))})})}},{key:"logout",value:function(e){window.open(s.Config.backend+"/user/logout?page=app%3Fclose%3D1")}}]),t}(u.View)}),require.register("access/UserRepository.js",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0}),e.UserRepository=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=t("Config"),u=t("../base/Repository");e.UserRepository=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,null,[{key:"getCurrentUser",value:function(e){return this.request(this.uri+"current",!1,!1,!1).then(function(e){return e})}},{key:"logout",value:function(){return this.request(this.uri+"logout",!1,{},!1).then(function(e){return e})}},{key:"uri",get:function(){return s.Config.backend+"/user/"}}]),t}(u.Repository)}),require.register("base/Bindable.js",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();e.Bindable=function(){function e(){r(this,e)}return o(e,null,[{key:"isBindable",value:function(t){return!!t.___binding___&&t.___binding___===e}},{key:"makeBindable",value:function(t){if(!t||t.___binding___||"object"!==("undefined"==typeof t?"undefined":i(t))||t instanceof Node)return t;Object.defineProperty(t,"___ref___",{enumerable:!1,writable:!0}),Object.defineProperty(t,"bindTo",{enumerable:!1,writable:!0}),Object.defineProperty(t,"___binding___",{enumerable:!1,writable:!0}),Object.defineProperty(t,"___bindingAll___",{enumerable:!1,writable:!0}),Object.defineProperty(t,"___isBindable___",{enumerable:!1,writable:!0}),Object.defineProperty(t,"___executing___",{enumerable:!1,writable:!0}),Object.defineProperty(t,"___stack___",{enumerable:!1,writable:!0}),Object.defineProperty(t,"___stackTime___",{enumerable:!1,writable:!0}),Object.defineProperty(t,"___before___",{enumerable:!1,writable:!0}),Object.defineProperty(t,"___after___",{enumerable:!1,writable:!0}),Object.defineProperty(t,"toString",{enumerable:!1,writable:!0}),Object.defineProperty(t,"___setCount___",{enumerable:!1,writable:!0}),Object.defineProperty(t,"___wrapped___",{enumerable:!1,writable:!0}),t.___isBindable___=e,t.___wrapped___={},t.___binding___={},t.___bindingAll___=[],t.bindTo=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null!=n)e.___binding___[t]||(e.___binding___[t]=[]),e.___binding___[t].push(n),n(e[t],t,e,!1);else{n=t,e.___bindingAll___.push(n);for(var r in e)n(e[r],r,e,!1)}}}(t),t.___stack___=[],t.___stackTime___=[],t.___before___=[],t.___after___=[],t.___setCount___={},t.toString=function(e){return function(){return"object"==("undefined"==typeof e?"undefined":i(e))?JSON.stringify(e):e}}(t);for(var n in t)t[n]&&"object"==i(t[n])&&!t[n]instanceof Node&&(t[n]=e.makeBindable(t[n]));var r=function(t){return function(n,r,o){if(n[r]===o&&("undefined"==typeof o?"undefined":i(o))!==t)return!0;if(o&&"object"==("undefined"==typeof o?"undefined":i(o))&&!(o instanceof Node)&&o.___isBindable___!==e){o=e.makeBindable(o);for(var a in o)o[a]&&"object"==i(o[a])&&(o[a]=e.makeBindable(o[a]))}for(var s in t.___bindingAll___)t.___bindingAll___[s](o,r,n,!1);var u=!1;if(r in t.___binding___)for(var l in t.___binding___[r])t.___binding___[r][l](o,r,n,!1)===!1&&(u=!0);u||(n[r]=o),n.___setCount___[r]||(n.___setCount___[r]=0),n.___setCount___[r]++;var c=10;return n.___setCount___[r]>c&&o instanceof Object&&console.log('Warning: Resetting bindable reference "'+r+'" to object '+n.___setCount___[r]+" times."),!0}}(t),o=function(e){return function(t,n){if(!(n in t))return!0;for(var r in e.___bindingAll___)e.___bindingAll___[r](void 0,n,t,!0);if(n in e.___binding___)for(var i in e.___binding___[n])e.___binding___[n][i](void 0,n,t,!0);return Array.isArray(t)?t.splice(n,1):delete t[n],!0}}(t),a=function(e){return function(t,n){return"function"==typeof t[n]?t.___wrapped___[n]?t.___wrapped___[n]:(t.___wrapped___[n]=function(){t.___executing___=n,t.___stack___.unshift(n),t.___stackTime___.unshift((new Date).getTime());for(var r in t.___before___)t.___before___[r](t,n,e);var i=t[n].apply(t,arguments);for(var o in t.___after___)t.___after___[o](t,n,e);t.___executing___=null;(new Date).getTime()-t.___stackTime___[0];return t.___stack___.shift(),t.___stackTime___.shift(),i},t.___wrapped___[n]):t[n]}}(t);return t.___ref___=new Proxy(t,{deleteProperty:o,get:a,set:r}),t.___ref___}},{key:"clearBindings",value:function(e){e.___wrapped___={},e.___bindingAll___={},e.___binding___={},e.___before___={},e.___after___={},e.___ref___={},e.toString=function(){return"{}"}}}]),e}()}),require.register("base/Cache.js",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();e.Cache=function(){function e(){r(this,e)}return i(e,null,[{key:"store",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"standard",i=1e3*n+(new Date).getTime();this.bucket||(this.bucket={}),this.bucket[r]||(this.bucket[r]={}),this.bucket[r][e]={expiration:i,value:t}}},{key:"load",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"standard";return this.bucket&&this.bucket[n]&&this.bucket[n][e]&&this.bucket[n][e].expiration>(new Date).getTime()?this.bucket[n][e].value:t}}]),e}()}),require.register("base/Cookie.js",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Cookie=void 0;var i=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=t("./Bindable"),s=e.Cookie=function(){function e(){r(this,e)}return o(e,null,[{key:"set",value:function(t,n){e.jar[t]=n}},{key:"get",value:function(t){return e.jar[t]}},{key:"delete",value:function(t){delete e.jar[t]}}]),e}();s.jar=s.jar||a.Bindable.makeBindable({}),"data"!==window.location.href.substr(0,4)&&(document.cookie.split(";").map(function(e){var t=e.split("="),n=i(t,2),r=n[0],o=n[1];try{o=JSON.parse(o)}catch(a){o=o}s.jar[decodeURIComponent(r)]=o}),s.jar.bindTo(function(e,t,n,r){n[t]=e,r&&(n[t]=null);var i=encodeURIComponent(t)+"="+JSON.stringify(n[t]);document.cookie=i}))}),require.register("base/Dom.js",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();e.Dom=function(){function e(){r(this,e)}return i(e,null,[{key:"mapTags",value:function(e,t,n,r,i){var o=[],a=!0;r&&(a=!1);for(var s=!1,u=document.createTreeWalker(e,NodeFilter.SHOW_ALL,{acceptNode:function(e){if(!a){if(e!==r)return NodeFilter.FILTER_SKIP;a=!0}return i&&e===i&&(s=!0),s?NodeFilter.FILTER_SKIP:t?e instanceof Element&&e.matches(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT}},!1);u.nextNode();)o.push(n(u.currentNode));return o}},{key:"dispatchEvent",value:function(t,n){t.dispatchEvent(n),e.mapTags(t,!1,function(e){e.dispatchEvent(n)})}}]),e}()}),require.register("base/Repository.js",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Repository=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=t("./Cookie");e.Repository=function(){function e(){r(this,e)}return i(e,null,[{key:"loadPage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.request(this.uri,e).then(function(e){return e})}},{key:"domCache",value:function(e,t){console.log(e,t)}},{key:"load",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.objects=this.objects||{},this.objects[this.uri]=this.objects[this.uri]||{},this.objects[this.uri][e]?Promise.resolve(this.objects[this.uri][e]):this.request(this.uri+"/"+e).then(function(e){})}},{key:"form",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.uri+"/create";return e&&(t=this.uri+"/"+e+"/edit"),this.request(t).then(function(e){return e})}},{key:"clearCache",value:function(){this.objects&&this.objects[this.uri]&&(this.objects[this.uri]={})}},{key:"request",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a="GET",s="",u=null,l={};t&&(l=t),l.api=l.api||"json",s=Object.keys(l).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(l[e])}).join("&");var c=e,f="";if(r){i=!1,a="POST",u=new FormData;for(var p in r)u.append(p,r[p]);f=Object.keys(r).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(r[e])}).join("&")}c=e+"?"+s;var d=new XMLHttpRequest;if(!r&&i&&this.cache&&this.cache[c])return Promise.resolve(this.cache[c]);var v='script[data-uri="'+c+'"]',h=document.querySelector(v);if(!r&&i&&h){var b=JSON.parse(h.innerText);return Promise.resolve(b)}d.withCredentials=!0,d.timeout=15e3;var _=this.xhrs.length;return r||this.xhrs.push(d),new Promise(function(e){return function(t,i){d.onreadystatechange=function(){var r=4,a=200,s=void 0;if(d.readyState===r){if(n.cache||(n.cache={}),d.status===a)if(s=JSON.parse(d.responseText))if(0==s.code){var u=document.querySelector('script[data-uri="'+c+'"]'),l=o.Cookie.get("prerenderer");console.log(l),l&&(u||(u=document.createElement("script"),document.querySelector("head").appendChild(u)),u.type="text/json",u.setAttribute("data-uri",c),u.innerText=JSON.stringify(s)),t(s)}else i(s);else t(d.responseText);else i("HTTP"+d.status);n.xhrs[e]=null}},d.open(a,c),r&&d.setRequestHeader("Content-type","application/x-www-form-urlencoded"),d.send(f)}}(_))}},{key:"cancel",value:function(){for(var e in this.xhrs)this.xhrs[e]&&this.xhrs[e].abort();this.xhrList=[]}},{key:"xhrs",get:function(){return this.xhrList=this.xhrList||[]}}]),e}()}),require.register("base/Router.js",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Router=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=t("./View"),a=t("./Cache");e.Router=function(){function e(){r(this,e)}return i(e,null,[{key:"listen",value:function(e){var t=this;window.addEventListener("popstate",function(n){n.preventDefault(),t.match(location.pathname,e)}),this.go(location.pathname)}},{key:"go",value:function(e,t){location.pathname!==e&&history.pushState(null,null,e),t||window.dispatchEvent(new Event("popstate"))}},{key:"match",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t.args.content,i=t.routes;this.path=e,this.query={};var s=new URLSearchParams(window.location.search);this.queryString=window.location.search;var u=!0,l=!1,c=void 0;try{for(var f,p=s[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){var d=f.value;this.query[d[0]]=d[1]}}catch(v){l=!0,c=v}finally{try{!u&&p["return"]&&p["return"]()}finally{if(l)throw c}}e=e.substr(1).split("/");var h={};for(var b in this.query)h[b]=this.query[b];e:for(var _ in i){var y=_.split("/");if(!(y.length<e.length)){for(var g in y)if("%"==y[g].substr(0,1)){var m=null,w=/^%(\w+)\??/.exec(y[g]);if(w&&w[1]&&(m=w[1]),!m)throw new Error(y[g]+' is not a valid argument segment in route "'+_+'"');if(e[g])h[m]=e[g];else{if("?"!=y[g].substr(y[g].length-1,1))continue e;h[m]=""}}else if(e[g]!==y[g])continue e;if("function"!=typeof i[_])return i[_];if(!n&&r&&r instanceof i[_]&&r.update(h))return t.args.content=r,!0;var T=i[_];return i[_]instanceof Object&&(T=new i[_](h)),T instanceof o.View&&T.pause(!1),T.update(h,n),t.args.content instanceof o.View&&t.args.content.pause(!0),t.args.content=T,!0}}if(i&&i[!1]){if(!n&&r&&r instanceof i[!1]&&r.update(h))return t.args.content=r,!1;"function"!=typeof i[!1]&&(t.args.content=i[!1]);var k=i[!1];k instanceof o.View&&k.pause(!1),i[!1]instanceof Object&&(k=new i[!1](h)),k.update(h,n),t.args.content instanceof o.View&&t.args.content.pause(!0),t.args.content=k,a.Cache.store(this.path,k,3600,"page")}return!1}},{key:"clearCache",value:function(){}},{key:"queryOver",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};for(var n in this.query)t[n]=this.query[n];for(var r in e)t[r]=e[r];return delete t.api,t}},{key:"queryToString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[],r=e;t||(r=this.queryOver(e));for(var i in r)""!==r[i]&&n.push(i+"="+encodeURIComponent(r[i]));return n.join("&")}},{key:"setQuery",value:function(e,t,n){var r={};r[e]=t,this.go(this.path+"?"+this.queryToString(r),n)}}]),e}()}),require.register("base/Tag.js",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Tag=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=t("./Bindable");e.Tag=function(){function e(t,n,i,a){var s=this;return r(this,e),this.element=o.Bindable.makeBindable(t),this.parent=n,this.ref=i,this.index=a,this.proxy=o.Bindable.makeBindable(this),this.cleanup=[],this.detachListener=function(e){s.clear(),s.remove(),s.element.removeEventListener("cvDomDetached",s.detachListener),s.element=s.ref=s.parent=null},this.element.addEventListener("cvDomDetached",this.detachListener),this.proxy}return i(e,[{key:"remove",value:function(){for(var e=void 0;e=this.cleanup.shift();)e();o.Bindable.clearBindings(this)}},{key:"clear",value:function(){for(var e=new Event("cvDomDetached");this.element.firstChild;)this.element.firstChild.dispatchEvent(e),this.element.removeChild(this.element.firstChild)}}]),e}()}),require.register("base/Theme.js",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();e.Theme=function(){function e(){r(this,e),this.views={"SeanMorris\\TheWhtRbt\\Location":{single:"twr9/LocationPreview",list:"twr9/LocationList"},"SeanMorris\\TheWhtRbt\\Image":{single:"DetailView",list:"DetailListView"}}}return i(e,[{key:"resolve",value:function(e){var t=void 0;if(Array.isArray(e)){for(var n in e){var r=e[n]["class"]||e[n].content_type;if(t&&t!==r)throw new Error("Model list mismatch!");t=r}return this.views[t]?this.views[t].list?this.views[t].list:this.views[t]:"DetailListView"}return!!e&&(t=e["class"]||e.content_type,this.views[t]?this.views[t].single?this.views[t].single:this.views[t]:"DetailView")}}]),e}()}),require.register("base/View.js",function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.View=void 0;var o=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=t("./Bindable"),u=t("./ViewList"),l=t("./Router"),c=t("./Cookie"),f=t("./Dom");t("./Tag"),e.View=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),this.args=s.Bindable.makeBindable(t),this._id=this.uuid(),this.args._id=this._id,this.template="",this.parent=null,this.firstNode=null,this.lastNode=null,this.nodes=null,this.frames=[],this.timeouts=[],this.intervals=[],this.cleanup=[],this.attach=[],this.detach=[],this.eventCleanup=[],this.parent=null,this.viewList=null,this.viewLists={},this.tags={},this.intervals=[],this.timeouts=[],this.frames=[]}return a(e,[{key:"onFrame",value:function(e){var t=function n(t){e(t),window.requestAnimationFrame(n)};t()}},{key:"onTimeout",value:function(e,t){var n=this,r=function(){n.timeouts[o].fired=!0,n.timeouts[o].callback=null,t()},i=setTimeout(r,e),o=this.timeouts.length;return this.timeouts.push({timeout:i,callback:r,time:e,fired:!1,created:(new Date).getTime(),paused:!1}),i}},{key:"clearTimeout",value:function(e){for(var t in this.timeouts)e===this.timeouts[t].timeout&&(clearInterval(this.timeouts[t].timeout),delete this.timeouts[t])}},{key:"onInterval",value:function(e,t){var n=setInterval(t,e);return this.intervals.push({timeout:n,callback:t,time:e,paused:!1}),n}},{key:"clearInterval",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){for(var t in this.intervals)e===this.intervals[t].timeout&&(clearInterval(this.intervals[t].timeout),delete this.intervals[t])})},{key:"pause",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(void 0===e&&(this.paused=!this.paused),this.paused=e,this.paused){for(var t in this.timeouts)this.timeouts[t].fired?delete this.timeouts[t]:clearTimeout(this.timeouts[t].timeout);for(var n in this.intervals)clearInterval(this.intervals[n].timeout)}else{for(var r in this.timeouts)this.timeouts[r].timeout.paused&&(this.timeouts[r].fired?delete this.timeouts[r]:this.timeouts[r].timeout=setTimeout(this.timeouts[r].callback,this.timeouts[r].time));for(var i in this.intervals)this.intervals[i].timeout.paused&&(this.intervals[i].timeout.paused=!1,this.intervals[i].timeout=setInterval(this.intervals[i].callback,this.intervals[i].time))}}},{key:"render",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.nodes){for(var r in this.detach)this.detach[r]();var i=function(r){var i=new Event("cvDomDetached",{bubbles:!0,target:e.nodes[r]}),o=new Event("cvDomAttached",{bubbles:!0,target:e.nodes[r]});e.nodes[r].dispatchEvent(i),f.Dom.mapTags(e.nodes[r],!1,function(e){e.dispatchEvent(i)}),t&&(n?t.insertBefore(e.nodes[r],n):t.appendChild(e.nodes[r])),f.Dom.mapTags(e.nodes[r],!1,function(e){e.dispatchEvent(o)}),e.nodes[r].dispatchEvent(o)};for(var o in this.nodes)i(o);for(var a in this.attach)this.attach[a]()}else{var s=void 0;for(s=this.template==document?this.template:document.createRange().createContextualFragment(this.template),f.Dom.mapTags(s,!1,function(t){t.matches?(e.mapInterpolatableTags(t),t.matches("[cv-each]")&&e.mapEachTags(t),t.matches("[cv-with]")&&e.mapWithTags(t),t.matches("[cv-prerender]")&&e.mapPrendererTags(t),t.matches("[cv-link]")&&e.mapLinkTags(t),t.matches("[cv-on]")&&e.mapOnTags(t),t.matches("[cv-bind]")&&e.mapBindTags(t),t.matches("[cv-ref]")&&e.mapRefTags(t),t.matches("[cv-if]")&&e.mapIfTags(t)):e.mapInterpolatableTags(t)}),this.nodes=[],this.firstNode=document.createComment("Template "+this._id+" Start"),this.nodes.push(this.firstNode),t&&(n?t.insertBefore(this.firstNode,n):t.appendChild(this.firstNode));s.firstChild;){var u=s.firstChild,l=new Event("cvDomAttached",{bubbles:!0,target:u});this.nodes.push(s.firstChild),t&&(n?t.insertBefore(s.firstChild,n):t.appendChild(s.firstChild)),f.Dom.mapTags(u,!1,function(e){}),u.dispatchEvent(l)}this.lastNode=document.createComment("Template "+this._id+" End"),this.nodes.push(this.lastNode),t&&(n?t.insertBefore(this.lastNode,n):t.appendChild(this.lastNode));for(var c in this.attach)this.attach[c]();this.postRender(t)}}},{key:"mapInterpolatableTags",value:function(t){var n=this,r=/(\[\[(\$?\w+)\]\])/g;if(t.nodeType==Node.TEXT_NODE){var i=t.nodeValue;if(!this.interpolatable(i))return;for(var o=0,a=void 0;a=r.exec(i);){var s=a[2],u=!1;"$"===s.substr(0,1)&&(u=!0,s=s.substr(1));var l=i.substring(o,a.index);o=a.index+a[1].length;var c=document.createTextNode(l);t.parentNode.insertBefore(c,t);var f=void 0;f=u?document.createElement("div"):document.createTextNode(""),t.parentNode.insertBefore(f,t),this.args.bindTo(s,function(n,r){return function(i,o,a){a[o]instanceof e&&a[o].remove(),n.nodeValue="",i instanceof e?i.render(t.parentNode,n):r?n.innerHTML=i:n.nodeValue=i}}(f,u))}var p=i.substring(o),d=document.createTextNode(p);t.parentNode.insertBefore(d,t),t.nodeValue=""}if(t.nodeType==Node.ELEMENT_NODE)for(var v=function(e){if(!n.interpolatable(t.attributes[e].value))return"continue";for(var i=0,o=void 0,a=t.attributes[e].value,s=t.attributes[e],u={},l=[];o=r.exec(a);)l.push(a.substring(i,o.index)),u[o[2]]||(u[o[2]]=[]),u[o[2]].push(l.length),l.push(o[1]),i=o.index+o[1].length;l.push(a.substring(i));for(var c in u)n.args.bindTo(c,function(e,n,r,i){for(var o in u)for(var a in u[o])l[u[o][a]]=r[o],n===o&&(l[u[o][a]]=e);t.setAttribute(s.name,l.join(""))})},h=0;h<t.attributes.length;h++){v(h)}}},{key:"mapRefTags",value:function(e){var t=e.getAttribute("cv-ref"),n=t.split(":"),r=o(n,3),i=r[0],a=r[1],s=r[2],u=this.stringToClass(a);if(e.removeAttribute("cv-ref"),this.viewList){this.viewList.parent.tags[i]||(this.viewList.parent.tags[i]=[]);var l=this.args[s];this.viewList.parent.tags[i][l]=new u(e,this,i,l)}else this.tags[i]=new u(e,this,i)}},{key:"mapBindTags",value:function(t){var n=this,r=t.getAttribute("cv-bind");this.args.bindTo(r,function(n,r,i){if(i[r]===n,i[r]instanceof e&&i[r].remove(),"INPUT"==t.tagName||"SELECT"==t.tagName){var o=t.getAttribute("type");return void(o&&"checkbox"==o.toLowerCase()?n?t.checked=!0:t.checked=!1:"file"!==o&&(t.value=n||""))}n instanceof e?n.render(t):t.innerText=n});var i=function(e){"password"!==e.target.getAttribute("type")&&console.log(e.target.value),e.target===t&&(n.args[r]=e.target.value)};t.addEventListener("input",i),t.addEventListener("change",i),t.addEventListener("value-changed",i),this.cleanup.push(function(e,t){return function(){e.removeEventListener("input",i),e.removeEventListener("change",i),e.removeEventListener("value-changed",i),e=void 0,t=void 0}}(t,i)),t.removeAttribute("cv-bind")}},{key:"mapOnTags",value:function(e){var t=this;String(e.getAttribute("cv-on")).split(/;/).map(function(e){return e.split(":")}).map(function(e,n){return function(i){var o=i[0].replace(/(^[\s\n]+|[\s\n]+$)/,""),a=i[1],s=[],u=/(\w+)(?:\(([\w\s,]+)\))?/.exec(a);u.length&&(a=u[1].replace(/(^[\s\n]+|[\s\n]+$)/,""),u[2]&&(s=u[2].split(",").map(function(e){return e.trim()})));for(var l=void 0,c=t;c;)if(c[a]&&(l=function(){var e;(e=c)[a].apply(e,arguments)}),c.viewList&&c.viewList.parent)c=c.viewList.parent;else{if(!c.parent)break;c=c.parent}var f=function(e){return function(t){var i=s.map(function(n){return"event"===n?t:n in e.args?e.args[n]:void 0});if("function"!=typeof l)throw new Error(a+" is not defined on View object.\n\nTag:\n\n"+n.outerHTML);l.apply(void 0,r(i))}}(e);switch(o){case"_init":f();break;case"_attach":t.attach.push(f);break;case"_detach":t.detach.push(f);break;default:n.addEventListener(o,f),t.cleanup.push(function(e,t,n){return function(){e.removeEventListener(t,n),e=void 0,n=void 0}}(n,o,f))}return[o,a,s]}}(this,e));e.removeAttribute("cv-on")}},{key:"mapLinkTags",value:function(e){var t=e.getAttribute("cv-link");e.setAttribute("href",t);var n=function(t){t.preventDefault(),l.Router.go(e.getAttribute("href"));
};e.addEventListener("click",n),this.cleanup.push(function(e,t){return function(){e.removeEventListener("click",t),e=void 0,t=void 0}}(e,n)),e.removeAttribute("cv-link")}},{key:"mapPrendererTags",value:function(e){var t=e.getAttribute("cv-prerender"),n=c.Cookie.get("prerenderer");("never"==t&&n||"only"==t&&!n)&&e.parentNode.removeChild(e)}},{key:"mapWithTags",value:function(t){var n=t.getAttribute("cv-with"),r=t.getAttribute("cv-carry");t.removeAttribute("cv-with"),t.removeAttribute("cv-carry");var i=t.innerHTML,o=[];for(r&&(o=r.split(","));t.firstChild;)t.removeChild(t.firstChild);var a=new e;this.cleanup.push(function(e){return function(){e.remove()}}(a)),a.template=i,a.parent=this;for(var s in o)this.args.bindTo(o[s],function(e){return function(t,n){e.args[n]=t}}(a));for(var u in this.args[n])this.args[n].bindTo(u,function(e){return function(t,n){e.args[n]=t}}(a));a.render(t)}},{key:"mapEachTags",value:function(e){var t=this,n=e.getAttribute("cv-each"),r=e.getAttribute("cv-carry");e.removeAttribute("cv-each"),e.removeAttribute("cv-carry");for(var i=e.innerHTML;e.firstChild;)e.removeChild(e.firstChild);var a=[];r&&(a=r.split(","));var s=n.split(":"),l=o(s,3),c=l[0],f=l[1],p=l[2],d=void 0;this.args.bindTo(c,function(n){return function(r,o,s){n&&n.remove(),n=new u.ViewList(i,f,r,p),n.parent=t,n.render(e);for(var l in a)t.args.bindTo(a[l],function(e,t){n.args.subArgs[t]=e})}}(d)),this.viewLists[c]=d}},{key:"mapIfTags",value:function(t){var n=t.getAttribute("cv-if"),r=!1;"!"===n.substr(0,1)&&(r=!0,n=n.substr(1));for(var i=t.innerHTML;t.firstChild;)t.removeChild(t.firstChild);var o=document.createRange().createContextualFragment(""),a=new e;a.args=this.args,this.cleanup.push(function(e){return function(){e.remove()}}(a)),a.template=i,a.parent=this,a.render(t),this.args.bindTo(n,function(e,t){return function(n){var i=new Event("cvDomDetached"),o=new Event("cvDomAttached");if(r&&(n=!n),n)for(;t.firstChild;){var a=t.firstChild;e.prepend(a),a.dispatchEvent(o),f.Dom.mapTags(a,!1,function(e){e.dispatchEvent(o)})}else for(;e.firstChild;){var s=e.firstChild;t.prepend(s),s.dispatchEvent(i),f.Dom.mapTags(s,!1,function(e){e.dispatchEvent(i)})}}}(t,o)),t.removeAttribute("cv-if")}},{key:"postRender",value:function(e){}},{key:"interpolatable",value:function(e){return!!String(e).match(/\[\[\$?\w+\??\]\]/)}},{key:"uuid",value:function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)})}},{key:"remove",value:function(){var e=new Event("cvDomDetached");for(var t in this.nodes)this.nodes[t].dispatchEvent(e),this.nodes[t].remove();for(var n=void 0;n=this.cleanup.shift();)n();for(var r in this.viewLists)this.viewLists[r].remove();this.viewLists=[];for(var i in this.tags)if(Array.isArray(this.tags[i]))for(var o in this.tags[i])this.tags[i][o].remove();else this.tags[i].remove();s.Bindable.clearBindings(this)}},{key:"update",value:function(){}},{key:"beforeUpdate",value:function(e){}},{key:"afterUpdate",value:function(e){}},{key:"stringToClass",value:function(e){var n=e.split("/"),r=n[n.length-1],i=t(e);return i[r]}}]),e}()}),require.register("base/ViewList.js",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.ViewList=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=t("./Bindable"),a=t("./View");e.ViewList=function(){function e(t,n,i){var s=this,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;r(this,e),this.args=o.Bindable.makeBindable({}),this.args.value=o.Bindable.makeBindable(i||{}),this.args.subArgs=o.Bindable.makeBindable({}),this.views={},this.template=t,this.subProperty=n,this.keyProperty=u,this.tag=null,this.paused=!1,this.args.value.___before___.push(function(e){"bindTo"!=e.___executing___&&(s.paused=!0)}),this.args.value.___after___.push(function(e){s.paused&&s.reRender(),s.paused=!1}),this.args.value.bindTo(function(e,t,n,r){if(!s.paused){if(r)return s.views[t].remove(),void delete s.views[t];if(!s.views[t]){var i=new a.View;s.views[t]=i,s.views[t].template=s.template,s.views[t].parent=s.parent,s.views[t].viewList=s,s.args.subArgs.bindTo(function(e,t,n,r){i.args[t]=e}),s.views[t].args[s.subProperty]=e,s.keyProperty&&(s.views[t].args[s.keyProperty]=t),n[t]=e,s.reRender()}s.views[t].args[s.subProperty]=e}})}return i(e,[{key:"render",value:function(e){for(var t in this.views)this.views[t].render(e);this.tag=e}},{key:"reRender",value:function(){var e=this;if(this.tag){var t=[];for(var n in this.views)t[n]=this.views[n];var r=[],i=function(n){var i=!1;for(var o in t)if(t[o]&&e.args.value[n]===t[o].args[e.subProperty]){i=!0,r[n]=t[o],delete t[o];break}if(!i){var s={};s[e.subProperty]=e.args.value[n],r[n]=new a.View(s),r[n].template=e.template,r[n].parent=e.parent,r[n].viewList=e,r[n].args[e.keyProperty]=n,e.args.subArgs.bindTo(function(e,t,i,o){r[n].args[t]=e})}};for(var o in this.args.value)i(o);var s=!0;for(var u in this.views)this.views[u]!==r[u]&&(s=!1);if(s)for(var l=this.views.length||0;r[l];)r[l].render(this.tag),l++;else{for(;this.tag.firstChild;)this.tag.removeChild(this.tag.firstChild);for(var c in r)r[c].render(this.tag)}this.views=r}}},{key:"remove",value:function(){for(var e in this.views)this.views[e].remove();for(this.views=[];this.tag.firstChild;)this.tag.removeChild(this.tag.firstChild)}}]),e}()}),require.register("form/ButtonField.js",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0}),e.ButtonField=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=t("./Field");e.ButtonField=function(e){function t(e,n,o,a){r(this,t);var s=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o,a));return s.args.title=s.args.title||s.args.value,s.template='\n\t\t\t<label for = "'+s.args.name+'" cv-ref = "label:curvature/base/Tag">\n\t\t\t\t<input\n\t\t\t\t\tname  = "'+s.args.name+'"\n\t\t\t\t\ttype  = "'+s.args.attrs.type+'"\n\t\t\t\t\tvalue = "[[title]]"\n\t\t\t\t\ton    = "click:clicked(event)"\n\t\t\t\t/>\n\t\t\t</label>\n\t\t',s}return o(t,e),a(t,[{key:"clicked",value:function(e){this.form.buttonClick(this.args.name)}}]),t}(s.Field)}),require.register("form/Field.js",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0}),e.Field=void 0;var a=t("../base/View");e.Field=function(e){function t(e,n,o,a){r(this,t);var s=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));s.args.title=s.args.title||"",s.args.value=s.args.value||"",s.args.valueString="",s.form=n,s.parent=o,s.key=a,s.ignore=s.args.attrs["data-cv-ignore"]||!1;var u=null;return s.args.bindTo("value",function(e,t){u!=a&&(s.args.valueString=JSON.stringify(e||"",null,4),u=a,s.parent.args.value[a]=e,u=null)}),s.parent.args.value.bindTo(a,function(e,t){u!=t&&(u=t,s.args.value=e,u=null)}),s.template='\n\t\t\t<label for = "'+s.args.name+'" cv-ref = "label:curvature/base/Tag">\n\t\t\t\t<span cv-if = "title" cv-ref = "title:curvature/base/Tag">[[title]]:</span>\n\t\t\t\t<input\n\t\t\t\t\tname    = "'+s.args.name+'"\n\t\t\t\t\ttype    = "'+(s.args.attrs.type||"text")+'"\n\t\t\t\t\tcv-bind = "value"\n\t\t\t\t\tcv-ref  = "input:curvature/base/Tag"\n\t\t\t\t/>\n\t\t\t</label>\n\t\t',s}return o(t,e),t}(a.View)}),require.register("form/FieldSet.js",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0}),e.FieldSet=void 0;var a=t("./Field"),s=t("./Form");e.FieldSet=function(e){function t(e,n,o,a){r(this,t);var u=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o,a));return u.args.value={},u.args.fields=s.Form.renderFields(e.children,u),u.template='\n\t\t\t<label for = "'+u.args.name+'">\n\t\t\t\t<span cv-if = "title">[[title]]:</span>\n\t\t\t\t<fieldset name = "'+u.args.name+'">\n\t\t\t\t\t<div cv-each = "fields:field">\n\t\t\t\t\t\t<div cv-bind = "field"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</fieldset>\n\t\t\t</label>\n\t\t',u}return o(t,e),t}(a.Field)}),require.register("form/FileField.js",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0}),e.FileField=void 0;var a=t("./Field");e.FileField=function(e){function t(e,n,o,a){r(this,t);var s=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o,a));return s.template='\n\t\t\t<label for = "'+s.args.name+'">\n\t\t\t\t<input\n\t\t\t\t\t\tname    = "'+s.args.name+'"\n\t\t\t\t\t\ttype    = "'+s.args.attrs.type+'"\n\t\t\t\t\t\tcv-bind = "value"\n\t\t\t\t/>\n\t\t\t\t<span style = "display:none" cv-if = "value">[[[value]]]</span>\n\t\t\t</label>\n\t\t',s}return o(t,e),t}(a.Field)}),require.register("form/Form.js",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0}),e.Form=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=t("../base/View"),u=t("./Field"),l=t("./FieldSet"),c=t("./SelectField"),f=t("./HtmlField"),p=t("./HiddenField"),d=t("./ButtonField");e.Form=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{}));return n.args.flatValue=n.args.flatValue||{},n.args.value=n.args.value||{},n.args.method=e._method||"GET",n.args.classes=n.args.classes||[],n.args.bindTo("classes",function(e){n.args._classes=e.join(" ")}),n._onSubmit=[],n.action="",n.template='\n\t\t\t<form\n\t\t\t\tclass   = "[[_classes]]"\n\t\t\t\tmethod  = "[[method]]"\n\t\t\t\tcv-each = "fields:field"\n\t\t\t\tcv-on   = "submit:submit(event)"\n\t\t\t\tcv-ref  = "formTag:curvature/base/Tag"\n\t\t\t>\n\t\t\t\t[[field]]\n\t\t\t</form>\n\t\t',n.args.fields=t.renderFields(e,n),n.args.bindTo("value",function(e){n.args.valueString=JSON.stringify(e,null,4)}),n}return o(t,e),a(t,[{key:"submit",value:function(e){e.preventDefault(),this.args.valueString=JSON.stringify(this.args.value,null,4);for(var t in this._onSubmit)this._onSubmit[t](this,e)}},{key:"buttonClick",value:function(e){}},{key:"onSubmit",value:function(e){this._onSubmit.push(e)}},{key:"queryString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[];for(var n in this.args.flatValue)e[n]=e[n]||this.args.flatValue[n];for(var r in e)t.push(r+"="+encodeURIComponent(e[r]));return t.join("&")}},{key:"populate",value:function(e){for(var t in e)this.args.value[t]=e[t]}}],[{key:"renderFields",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r={},i=function(i){if(r[i])return"continue";if("_"==i.substr(0,1))return"continue";var o=null,a=null;switch(a=n instanceof t?n:n.form,e[i].type){case"fieldset":o=new l.FieldSet(e[i],a,n,i);break;case"select":o=new c.SelectField(e[i],a,n,i);break;case"html":o=new f.HtmlField(e[i],a,n,i);break;case"submit":case"button":o=new d.ButtonField(e[i],a,n,i);break;case"hidden":o=new p.HiddenField(e[i],a,n,i);break;default:o=new u.Field(e[i],a,n,i)}r[i]=o,o.args.bindTo("value",function(e,t,n,r){("html"!=n.type||n.contentEditable)&&(a.args.flatValue[o.args.name]=e)})};for(var o in e){i(o)}return r}}]),t}(s.View)}),require.register("form/HiddenField.js",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0}),e.HiddenField=void 0;var a=t("./Field");e.HiddenField=function(e){function t(e,n,o,a){r(this,t);var s=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o,a));return s.template='\n\t\t\t<label for = "'+s.args.name+'" style = "display:none" cv-ref = "label:curvature/base/Tag">\n\t\t\t\t<input\n\t\t\t\t\t\tname    = "'+s.args.name+'"\n\t\t\t\t\t\ttype    = "'+s.args.attrs.type+'"\n\t\t\t\t\t\tcv-bind = "value"\n\t\t\t\t\t\tcv-ref  = "input:curvature/base/Tag"\n\t\t\t\t/>\n\t\t\t\t<span cv-if = "value">[[[value]]]</span>\n\t\t\t</label>\n\t\t',s}return o(t,e),t}(a.Field)}),require.register("form/HtmlField.js",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0}),e.HtmlField=void 0;var a=t("../base/View");e.HtmlField=function(e){function t(e,n,o,a){r(this,t);var s=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o,a));return s.ignore=s.args.attrs["data-cv-ignore"]||!1,s.args.contentEditable=s.args.attrs.contenteditable||!1,s.template='<div contenteditable = "[[contentEditable]]">[[$value]]</div>',s}return o(t,e),t}(a.View)}),require.register("form/SelectField.js",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0}),e.SelectField=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=t("./Field");e.SelectField=function(e){function t(e,n,o,a){r(this,t);var s=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o,a));return s.template='\n\t\t\t<label for = "'+s.args.name+'" cv-ref = "label:curvature/base/Tag">\n\t\t\t\t<span cv-if = "title" cv-ref = "title:curvature/base/Tag">[[title]]:</span>\n\t\t\t\t<select\n\t\t\t\t\tname    = "'+s.args.name+'"\n\t\t\t\t\tcv-bind = "value"\n\t\t\t\t\tcv-each = "options:option:optionText"\n\t\t\t\t\tcv-ref  = "input:curvature/base/Tag"\n\t\t\t\t/>\n\t\t\t\t\t<option value = "[[option]]">[[optionText]]</option>\n\t\t\t\t</select>\n\t\t\t</label>\n\t\t',s}return o(t,e),a(t,[{key:"getLabel",value:function(){for(var e in this.args.options)if(this.args.options[e]==this.args.value)return e}}]),t}(s.Field)}),require.register("index.js",function(e,t,n){"use strict"}),require.register("input/Keyboard.js",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Keyboard=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=t("../base/Bindable");e.Keyboard=function(){function e(){var t=this;r(this,e),this.listening,this.maxDecay=60,console.log("listening"),this.listening=!0,this.keys=o.Bindable.makeBindable({}),this.codes=o.Bindable.makeBindable({}),document.addEventListener("keyup",function(e){t.keys[e.key]=-1,t.codes[e.code]=-1}),document.addEventListener("keydown",function(e){t.keys[e.key]>0||(t.keys[e.key]=1,t.codes[e.code]=1)})}return i(e,[{key:"getKey",value:function(e){return this.keys[e]?this.keys[e]:0}},{key:"getKeyCode",value:function(e){return this.codes[e]?this.codes[e]:0}},{key:"update",value:function(){for(var e in this.keys)this.keys[e]>0?this.keys[e]++:(this.keys[e]--,this.keys[e]<-this.maxDecay&&delete this.keys[e]);for(var e in this.codes)this.codes[e]>0?this.codes[e]++:(this.codes[e]--,this.codes[e]<-this.maxDecay&&delete this.keys[e])}}]),e}()}),require.register("tag/PopOutTag.js",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0}),e.PopOutTag=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function c(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:c(i,t,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},u=t("../base/Dom"),l=t("../base/Tag");e.PopOutTag=function(e){function t(e,n,o,a){r(this,t);var s=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o,a));return s.poppedOut=!1,s.style=e.getAttribute("style"),s.moving=!1,s.leftDuration=0,s.unpoppedStyle="",s.previousScroll=0,s.bodyStyle="",s.bodyScroll=0,e.classList.add("unpopped"),s.scrollStyle,s.rect,s.clickListener=function(n){if(s.poppedOut&&s.rect||(s.rect=e.getBoundingClientRect(),s.distance=Math.sqrt(Math.pow(s.rect.top,2)+Math.pow(s.rect.left,2)),s.leftDuration||(s.leftDuration=(1-1/s.distance)/4)),s.element.contains(n.target)&&(n.preventDefault(),n.stopPropagation(),!s.moving))if(s.poppedOut){if(n.target.matches(".closeButton")&&s.poppedOut){window.scrollTo(0,s.previousScroll),setTimeout(function(){},1);var r=s.style+s.unpoppedStyle+(";transition: "+s.leftDuration+"s; ease-in");console.log(s.leftDuration),0===t.unpopLevel()&&(document.body.setAttribute("style",s.bodyStyle),document.body.setAttribute("style",""),window.scrollTo(0,s.bodyScroll)),e.setAttribute("style",r),s.moving=!0,setTimeout(function(){e.classList.add("unpopped"),e.classList.remove("popped")},500*s.leftDuration),setTimeout(function(){e.setAttribute("style",s.style),s.moving=!1,u.Dom.mapTags(e,!1,function(e){var t=new Event("cvUnpopped");e.dispatchEvent(t)})},1e3*s.leftDuration),s.poppedOut=!s.poppedOut}}else{s.previousScroll=window.scrollY,s.unpoppedStyle="\n\t\t\t\t\t;position:  fixed;\n\t\t\t\t\tleft:       "+s.rect.x+"px;\n\t\t\t\t\ttop:        "+s.rect.y+"px;\n\t\t\t\t\twidth:      "+s.rect.width+"px;\n\t\t\t\t\theight:     "+s.rect.height+"px;\n\t\t\t\t\tz-index:    99999;\n\n\t\t\t\t\toverflow: hidden;\n\t\t\t\t";var i=s.style+s.unpoppedStyle;e.setAttribute("style",i),document.body.style.overflow="hidden",document.body.style.overflowY="hidden",setTimeout(function(){i+="\n\t\t\t\t\t\t;top:   0px;\n\t\t\t\t\t\tleft:   0px;\n\t\t\t\t\t\twidth:  100%;\n\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\toverflow-y: auto;\n\t\t\t\t\t\ttransition: "+s.leftDuration+"s ease-out;\n\t\t\t\t\t",s.moving=!0,e.classList.add("unpopped"),e.classList.add("popped"),e.classList.remove("unpopped"),e.setAttribute("style",i),console.log(1e3*s.leftDuration),setTimeout(function(){t.popLevel(),s.bodyStyle=document.body.getAttribute("style"),s.bodyScroll=window.scrollY,console.log(s.bodyScroll),document.body.setAttribute("style","height:0px;overflow:hidden;"),window.scrollTo(0,0),s.moving=!1,u.Dom.mapTags(e,!1,function(t){var n=new Event("cvPopped");t.dispatchEvent(n),s.scrollStyle=e.getAttribute("style")})},1e3*s.leftDuration)},1),s.poppedOut=!s.poppedOut}},e.addEventListener("click",s.clickListener),s.cleanup.push(function(e){return function(){e.removeEventListener("click",s.clickListener)}}(e)),s}return o(t,e),a(t,[{key:"pause",value:function(){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"pause",this).call(this),document.body.setAttribute("style",this.bodyStyle),document.body.setAttribute("style",""),window.scrollTo(0,this.bodyScroll),console.log("!!!")}}],[{key:"popLevel",value:function(){return this.level||(this.level=0),this.level++,this.level}},{key:"unpopLevel",value:function(){return this.level||(this.level=0),this.level--,this.level}}]),t}(l.Tag)}),require.register("tag/ScrollTag.js",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollTag=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=t("../base/Tag"),u=t("../base/Dom");t("../base/Bindable"),e.ScrollTag=function(e){function t(e,n,o,a){r(this,t);var s=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o,a));return s.visible=!1,s.offsetTop=!1,s.offsetBottom=!1,s.scrollListener=function(e){s.scrolled(e.target)},s.resizeListener=function(e){s.scrolled(e.target)},s.attachListener=function(t){t.path[t.path.length-1]===window&&t.target===e&&(s.addScrollListener(t.target),s.addResizeListener(t.target),s.scrolled(t.target),t.target.removeEventListener("cvDomAttached",s.attachListener))},s.element.addEventListener("cvDomAttached",s.attachListener),s.cleanup.push(function(e){return function(){e.removeEventListener("cvDomAttached",s.attachListener)}}(s.element)),s.bindTo("visible",function(e){var t=void 0;t=e?new Event("cvScrolledIn"):new Event("cvScrolledOut"),u.Dom.mapTags(s.element,!1,function(e){e.dispatchEvent(t)}),s.element.dispatchEvent(t)}),s.bindTo("offsetTop",function(e){var t=new CustomEvent("cvScrolled",{detail:{offset:e}});u.Dom.mapTags(s.element,!1,function(e){e.dispatchEvent(t)}),s.element.dispatchEvent(t)}),s}return o(t,e),a(t,[{key:"scrolled",value:function(e){var t=(this.element,!1),n=this.element.getBoundingClientRect();n.bottom>0&&n.top<window.innerHeight&&(t=!0),this.proxy.visible=t,this.proxy.offsetTop=n.top||0,this.proxy.offsetBottom=n.bottom||0}},{key:"addScrollListener",value:function(e){e.___scrollListener___||(Object.defineProperty(e,"___scrollListener___",{enumerable:!1,writable:!0}),e.___scrollListener___=this.scrollListener,window.addEventListener("scroll",this.scrollListener),this.cleanup.push(function(e){return function(){window.removeEventListener("scroll",e.___scrollListener___)}}(e)))}},{key:"addResizeListener",value:function(e){e.___resizeListener___||(Object.defineProperty(e,"___resizeListener___",{enumerable:!1,writable:!0}),e.___resizeListener___=this.resizeListener,window.addEventListener("resize",this.resizeListener),this.cleanup.push(function(e){return function(){window.removeEventListener("resize",e.___resizeListener___)}}(e)))}}]),t}(s.Tag)}),require.register("toast/Toast.js",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0}),e.Toast=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=t("../base/View");t("./ToastAlert"),e.Toast=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.template='\n\t\t\t<div id = "[[_id]]" cv-each = "alerts:alert" class = "toast">\n\t\t\t\t[[alert]]\n\t\t\t</div>\n\t\t',e.args.alerts=[],e.args.alerts.bindTo(function(e){console.log(e)}),e}return o(t,e),a(t,null,[{key:"instance",value:function(){return this.inst||(this.inst=new this),this.inst}}]),a(t,[{key:"pop",value:function(e){var t=this;this.args.alerts.length;this.args.alerts.push(e),e.decay(function(e){return function(){for(var n in t.args.alerts)if(t.args.alerts)return t.args.alerts[n]===e,void t.args.alerts.splice(n,1)}}(e))}}]),t}(s.View)}),require.register("toast/ToastAlert.js",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0}),e.ToastAlert=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=t("../base/View");e.ToastAlert=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.args.time=n.args.time||1e4,n.init=n.args.time,n.args.opacity=1,n.args.title=n.args.title||"Standard alert",n.args.body=n.args.body||"This is a standard alert.",n.template='\n\t\t\t<div id = "[[_id]]" style = "opacity:[[opacity]]" class = "alert">\n\t\t\t\t<h3>[[title]]</h3>\n\t\t\t\t<p>[[body]]</p>\n\t\t\t</div>\n\t\t',n}return o(t,e),a(t,[{key:"decay",value:function n(e){var t=this,r=16,n=setInterval(function(){t.args.time>0&&(t.args.time-=r,t.args.opacity=t.args.time/t.init,t.args.time<=0&&(e&&e(),clearInterval(n)))},r)}}]),t}(s.View)}),require.register("___globals___",function(e,t,n){})}(),require("___globals___");