!function(){"use strict";var e="undefined"==typeof global?self:global;if("function"!=typeof e.require){var t={},n={},r={},i={}.hasOwnProperty,o=/^\.\.?(\/|$)/,a=function(e,t){for(var n,r=[],i=(o.test(t)?e+"/"+t:t).split("/"),a=0,s=i.length;a<s;a++)n=i[a],".."===n?r.pop():"."!==n&&""!==n&&r.push(n);return r.join("/")},s=function(e){return e.split("/").slice(0,-1).join("/")},u=function(t){return function(n){var r=a(s(t),n);return e.require(r,t)}},l=function(e,t){var r=h&&h.createHot(e),i={id:e,exports:{},hot:r};return n[e]=i,t(i.exports,u(e),i),i.exports},c=function(e){return r[e]?c(r[e]):e},f=function(e,t){return c(a(s(e),t))},p=function(e,r){null==r&&(r="/");var o=c(e);if(i.call(n,o))return n[o].exports;if(i.call(t,o))return l(o,t[o]);throw new Error("Cannot find module '"+e+"' from '"+r+"'")};p.alias=function(e,t){r[t]=e};var d=/\.[^.\/]+$/,_=/\/index(\.[^\/]+)?$/,v=function(e){if(d.test(e)){var t=e.replace(d,"");i.call(r,t)&&r[t].replace(d,"")!==t+"/index"||(r[t]=e)}if(_.test(e)){var n=e.replace(_,"");i.call(r,n)||(r[n]=e)}};p.register=p.define=function(e,r){if(e&&"object"==typeof e)for(var o in e)i.call(e,o)&&p.register(o,e[o]);else t[e]=r,delete n[e],v(e)},p.list=function(){var e=[];for(var n in t)i.call(t,n)&&e.push(n);return e};var h=e._hmr&&new e._hmr(f,p,t,n);p._cache=n,p.hmr=h&&h.wrap,p.brunch=!0,e.require=p}}(),function(){var e=("undefined"==typeof window?this:window,function(e,t,n){var r={},i=function(t,n){var o;try{return o=e(n+"/node_modules/"+t)}catch(a){if(a.toString().indexOf("Cannot find module")===-1)throw a;if(n.indexOf("node_modules")!==-1){var s=n.split("/"),u=s.lastIndexOf("node_modules"),l=s.slice(0,u).join("/");return i(t,l)}}return r};return function(o){if(o in t&&(o=t[o]),o){if("."!==o[0]&&n){var a=i(o,n);if(a!==r)return a}return e(o)}}});require.register("curvature/base/Bindable.js",function(t,n,r){n=e(n,{},"curvature"),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.Bindable=function(){function t(){e(this,t)}return r(t,null,[{key:"isBindable",value:function(e){return!!e.___binding___&&e.___binding___===t}},{key:"makeBindable",value:function(e){if(!e||e.___binding___||"object"!==("undefined"==typeof e?"undefined":n(e))||e instanceof Node)return e;Object.defineProperty(e,"___ref___",{enumerable:!1,writable:!0}),Object.defineProperty(e,"bindTo",{enumerable:!1,writable:!0}),Object.defineProperty(e,"___binding___",{enumerable:!1,writable:!0}),Object.defineProperty(e,"___bindingAll___",{enumerable:!1,writable:!0}),Object.defineProperty(e,"___isBindable___",{enumerable:!1,writable:!0}),Object.defineProperty(e,"___executing___",{enumerable:!1,writable:!0}),Object.defineProperty(e,"___stack___",{enumerable:!1,writable:!0}),Object.defineProperty(e,"___stackTime___",{enumerable:!1,writable:!0}),Object.defineProperty(e,"___before___",{enumerable:!1,writable:!0}),Object.defineProperty(e,"___after___",{enumerable:!1,writable:!0}),Object.defineProperty(e,"toString",{enumerable:!1,writable:!0}),Object.defineProperty(e,"___setCount___",{enumerable:!1,writable:!0}),Object.defineProperty(e,"___wrapped___",{enumerable:!1,writable:!0}),Object.defineProperty(e,"___object___",{enumerable:!1,writable:!0}),e.___object___=e,e.___isBindable___=t,e.___wrapped___={},e.___binding___={},e.___bindingAll___=[],e.bindTo=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null!=n)e.___binding___[t]||(e.___binding___[t]=[]),e.___binding___[t].push(n),n(e[t],t,e,!1);else{n=t,e.___bindingAll___.push(n);for(var r in e)n(e[r],r,e,!1)}}}(e),e.___stack___=[],e.___stackTime___=[],e.___before___=[],e.___after___=[],e.___setCount___={},e.toString=function(e){return function(){return"object"==("undefined"==typeof e?"undefined":n(e))?JSON.stringify(e):e}}(e);for(var r in e)e[r]&&"object"==n(e[r])&&!e[r]instanceof Node&&(e[r]=t.makeBindable(e[r]));var i=function(e){return function(r,i,o){if(r[i]===o&&("undefined"==typeof o?"undefined":n(o))!==e)return!0;if(o&&"object"==("undefined"==typeof o?"undefined":n(o))&&!(o instanceof Node)&&o.___isBindable___!==t){o=t.makeBindable(o);for(var a in o)o[a]&&"object"==n(o[a])&&(o[a]=t.makeBindable(o[a]))}for(var s in e.___bindingAll___)e.___bindingAll___[s](o,i,r,!1);var u=!1;if(i in e.___binding___)for(var l in e.___binding___[i])e.___binding___[i][l](o,i,r,!1)===!1&&(u=!0);if(!u){var c=Object.getOwnPropertyDescriptor(r,i),f=r instanceof File&&"lastModifiedDate"==i;f||c&&!c.writable||(r[i]=o)}r.___setCount___[i]||(r.___setCount___[i]=0),r.___setCount___[i]++;var p=10;return r.___setCount___[i]>p&&o instanceof Object,!0}}(e),o=function(e){return function(t,n){if(!(n in t))return!0;for(var r in e.___bindingAll___)e.___bindingAll___[r](void 0,n,t,!0);if(n in e.___binding___)for(var i in e.___binding___[n])e.___binding___[n][i](void 0,n,t,!0);return Array.isArray(t)?t.splice(n,1):delete t[n],!0}}(e),a=function(e){return function(t,n){return t[n]instanceof Function?t.___wrapped___[n]?t.___wrapped___[n]:(t.___wrapped___[n]=function(){t.___executing___=n,t.___stack___.unshift(n);for(var r in t.___before___)t.___before___[r](t,n,e);var i=t[n].apply(t,arguments);for(var o in t.___after___)t.___after___[o](t,n,e);return t.___executing___=null,t.___stack___.shift(),i},t.___wrapped___[n]):t[n]}}(e);return e.___ref___=new Proxy(e,{deleteProperty:o,get:a,set:i}),e.___ref___}},{key:"clearBindings",value:function(e){e.___wrapped___={},e.___bindingAll___={},e.___binding___={},e.___before___={},e.___after___={},e.___ref___={},e.toString=function(){return"{}"}}},{key:"resolve",value:function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=void 0,i=t.split(".");i.length;){if(n&&1===i.length)return[this.makeBindable(e),i.shift()];if(!r in e)return;r=i.shift(),e=this.makeBindable(e[r])}return this.makeBindable(e)}}]),t}()}()}),require.register("curvature/base/Dom.js",function(t,n,r){n=e(n,{},"curvature"),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.Dom=function(){function t(){e(this,t)}return n(t,null,[{key:"mapTags",value:function(e,t,n,r,i){var o=[],a=!0;r&&(a=!1);for(var s=!1,u=document.createTreeWalker(e,NodeFilter.SHOW_ALL,{acceptNode:function(e){if(!a){if(e!==r)return NodeFilter.FILTER_SKIP;a=!0}return i&&e===i&&(s=!0),s?NodeFilter.FILTER_SKIP:t?e instanceof Element&&e.matches(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT}},!1);u.nextNode();)o.push(n(u.currentNode));return o}},{key:"dispatchEvent",value:function(e,n){e.dispatchEvent(n),t.mapTags(e,!1,function(e){e.dispatchEvent(n)})}}]),t}()}()}),require.register("Config.js",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});e.Config=function i(){r(this,i)}}),require.register("access/LoginView.js",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0}),e.LoginView=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=t("Config"),u=t("../base/View"),l=t("../base/Router"),c=t("../base/Repository"),f=t("./UserRepository"),p=t("../toast/Toast"),d=t("../toast/ToastAlert");e.LoginView=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.template='\n\t\t\t<a cv-link = "user">User</a>\n\t\t\t<br />\n\t\t\t\n\t\t\t<a cv-link = "user/login">Login</a>\n\t\t\t<br />\n\n\t\t\t<a cv-link = "user/register">Register</a>\n\t\t\t<br />\n\n\t\t\t<a cv-link = "user/logout">Logout</a>\n\t\t\t<br />\n\n\t\t\t<input\n\t\t\t\ttype  = "button"\n\t\t\t\tvalue = "Login via FaceBook"\n\t\t\t \tcv-on = "click:facebookLogin(event)"\n\t\t\t />\n\t\t\t <input\n\t\t\t\ttype  = "button"\n\t\t\t\tvalue = "Log Out"\n\t\t\t \tcv-on = "click:logout(event)"\n\t\t\t />\n\t\t',e}return o(t,e),a(t,[{key:"facebookLogin",value:function(e){var t=this;console.log("fb!"),e.preventDefault();window.open(s.Config.backend+"/facebookLogin");this.userCheck&&this.clearInterval(this.userCheck),this.userCheck=this.onInterval(333,function(){f.UserRepository.getCurrentUser(!0).then(function(e){var n=e.body;n.id&&n&&(t.clearInterval(t.userCheck),l.Router.clearCache(),c.Repository.clearCache(),p.Toast.instance().pop(new d.ToastAlert({title:"Logged in as "+n.username,body:"ID: "+n.publicId,time:2400})))})})}},{key:"logout",value:function(e){window.open(s.Config.backend+"/user/logout?page=app%3Fclose%3D1")}}]),t}(u.View)}),require.register("access/UserRepository.js",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0}),e.UserRepository=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=t("Config"),u=t("curvature/base/Bindable"),l=t("../base/Repository");e.UserRepository=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,null,[{key:"getCurrentUser",value:function(e){var t=this;if(this.args=this.args||u.Bindable.makeBindable({}),!window.prerenderer)return this.request(this.uri+"current",!1,!1,!1).then(function(e){return t.args.current=e.body,e})}},{key:"login",value:function(){return this.request(s.Config.backend+"/user/login")}},{key:"logout",value:function(){return this.args=this.args||u.Bindable.makeBindable({}),this.args.current=null,this.request(this.uri+"logout",!1,{},!1).then(function(e){return e})}},{key:"onChange",value:function(e){this.args=this.args||u.Bindable.makeBindable({}),this.args.bindTo("current",e)}},{key:"uri",get:function(){return s.Config.backend+"/user/"}}]),t}(l.Repository)}),require.register("base/Bindable.js",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();e.Bindable=function(){function e(){r(this,e)}return o(e,null,[{key:"isBindable",value:function(t){return!!t.___binding___&&t.___binding___===e}},{key:"makeBindable",value:function(t){if(!t||t.___binding___||"object"!==("undefined"==typeof t?"undefined":i(t))||t instanceof Node)return t;Object.defineProperty(t,"___ref___",{enumerable:!1,writable:!0}),Object.defineProperty(t,"bindTo",{enumerable:!1,writable:!0}),Object.defineProperty(t,"___binding___",{enumerable:!1,writable:!0}),Object.defineProperty(t,"___bindingAll___",{enumerable:!1,writable:!0}),Object.defineProperty(t,"___isBindable___",{enumerable:!1,writable:!0}),Object.defineProperty(t,"___executing___",{enumerable:!1,writable:!0}),Object.defineProperty(t,"___stack___",{enumerable:!1,writable:!0}),Object.defineProperty(t,"___stackTime___",{enumerable:!1,writable:!0}),Object.defineProperty(t,"___before___",{enumerable:!1,writable:!0}),Object.defineProperty(t,"___after___",{enumerable:!1,writable:!0}),Object.defineProperty(t,"toString",{enumerable:!1,writable:!0}),Object.defineProperty(t,"___setCount___",{enumerable:!1,writable:!0}),Object.defineProperty(t,"___wrapped___",{enumerable:!1,writable:!0}),Object.defineProperty(t,"___object___",{enumerable:!1,writable:!0}),t.___object___=t,t.___isBindable___=e,t.___wrapped___={},t.___binding___={},t.___bindingAll___=[],t.bindTo=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null!=n)e.___binding___[t]||(e.___binding___[t]=[]),e.___binding___[t].push(n),n(e[t],t,e,!1);else{n=t,e.___bindingAll___.push(n);for(var r in e)n(e[r],r,e,!1)}}}(t),t.___stack___=[],t.___stackTime___=[],t.___before___=[],t.___after___=[],t.___setCount___={},t.toString=function(e){return function(){return"object"==("undefined"==typeof e?"undefined":i(e))?JSON.stringify(e):e}}(t);for(var n in t)t[n]&&"object"==i(t[n])&&!t[n]instanceof Node&&(t[n]=e.makeBindable(t[n]));var r=function(t){return function(n,r,o){if(n[r]===o&&("undefined"==typeof o?"undefined":i(o))!==t)return!0;if(o&&"object"==("undefined"==typeof o?"undefined":i(o))&&!(o instanceof Node)&&o.___isBindable___!==e){o=e.makeBindable(o);for(var a in o)o[a]&&"object"==i(o[a])&&(o[a]=e.makeBindable(o[a]))}for(var s in t.___bindingAll___)t.___bindingAll___[s](o,r,n,!1);var u=!1;if(r in t.___binding___)for(var l in t.___binding___[r])t.___binding___[r][l](o,r,n,!1)===!1&&(u=!0);if(!u){var c=Object.getOwnPropertyDescriptor(n,r),f=n instanceof File&&"lastModifiedDate"==r;f||c&&!c.writable||(n[r]=o)}n.___setCount___[r]||(n.___setCount___[r]=0),n.___setCount___[r]++;var p=10;return n.___setCount___[r]>p&&o instanceof Object,!0}}(t),o=function(e){return function(t,n){if(!(n in t))return!0;for(var r in e.___bindingAll___)e.___bindingAll___[r](void 0,n,t,!0);if(n in e.___binding___)for(var i in e.___binding___[n])e.___binding___[n][i](void 0,n,t,!0);return Array.isArray(t)?t.splice(n,1):delete t[n],!0}}(t),a=function(e){return function(t,n){return t[n]instanceof Function?t.___wrapped___[n]?t.___wrapped___[n]:(t.___wrapped___[n]=function(){t.___executing___=n,t.___stack___.unshift(n);for(var r in t.___before___)t.___before___[r](t,n,e);var i=t[n].apply(t,arguments);for(var o in t.___after___)t.___after___[o](t,n,e);return t.___executing___=null,t.___stack___.shift(),i},t.___wrapped___[n]):t[n]}}(t);return t.___ref___=new Proxy(t,{deleteProperty:o,get:a,set:r}),t.___ref___}},{key:"clearBindings",value:function(e){e.___wrapped___={},e.___bindingAll___={},e.___binding___={},e.___before___={},e.___after___={},e.___ref___={},e.toString=function(){return"{}"}}},{key:"resolve",value:function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=void 0,i=t.split(".");i.length;){if(n&&1===i.length)return[this.makeBindable(e),i.shift()];if(!r in e)return;r=i.shift(),e=this.makeBindable(e[r])}return this.makeBindable(e)}}]),e}()}),require.register("base/Cache.js",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();e.Cache=function(){function e(){r(this,e)}return i(e,null,[{key:"store",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"standard",i=1e3*n+(new Date).getTime();this.bucket||(this.bucket={}),this.bucket[r]||(this.bucket[r]={}),this.bucket[r][e]={expiration:i,value:t}}},{key:"load",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"standard";return this.bucket&&this.bucket[n]&&this.bucket[n][e]&&this.bucket[n][e].expiration>(new Date).getTime()?this.bucket[n][e].value:t}}]),e}()}),require.register("base/Cookie.js",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Cookie=void 0;var i=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=t("./Bindable"),s=e.Cookie=function(){function e(){r(this,e)}return o(e,null,[{key:"set",value:function(t,n){e.jar[t]=n}},{key:"get",value:function(t){return e.jar[t]}},{key:"delete",value:function(t){delete e.jar[t]}}]),e}();s.jar=s.jar||a.Bindable.makeBindable({}),"data"!==window.location.href.substr(0,4)&&(document.cookie.split(";").map(function(e){var t=e.split("="),n=i(t,2),r=n[0],o=n[1];try{o=JSON.parse(o)}catch(a){o=o}r=r.trim(),s.jar[decodeURIComponent(r)]=o}),s.jar.bindTo(function(e,t,n,r){n[t]=e,r&&(n[t]=null);var i=encodeURIComponent(t)+"="+n[t];document.cookie=i}))}),require.register("base/Dom.js",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();e.Dom=function(){function e(){r(this,e)}return i(e,null,[{key:"mapTags",value:function(e,t,n,r,i){var o=[],a=!0;r&&(a=!1);for(var s=!1,u=document.createTreeWalker(e,NodeFilter.SHOW_ALL,{acceptNode:function(e){if(!a){if(e!==r)return NodeFilter.FILTER_SKIP;a=!0}return i&&e===i&&(s=!0),s?NodeFilter.FILTER_SKIP:t?e instanceof Element&&e.matches(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT}},!1);u.nextNode();)o.push(n(u.currentNode));return o}},{key:"dispatchEvent",value:function(t,n){t.dispatchEvent(n),e.mapTags(t,!1,function(e){e.dispatchEvent(n)})}}]),e}()}),require.register("base/Repository.js",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Repository=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t("./Cookie"),e.Repository=function(){function e(){r(this,e)}return i(e,null,[{key:"loadPage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.request(this.uri,e).then(function(e){return e})}},{key:"domCache",value:function(e,t){}},{key:"load",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.objects=this.objects||{},this.objects[this.uri]=this.objects[this.uri]||{},this.objects[this.uri][e]?Promise.resolve(this.objects[this.uri][e]):this.request(this.uri+"/"+e).then(function(e){})}},{key:"form",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.uri+"/create";return e&&(t=this.uri+"/"+e+"/edit"),this.request(t).then(function(e){return e})}},{key:"clearCache",value:function(){this.objects&&this.objects[this.uri]&&(this.objects[this.uri]={})}},{key:"request",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a="GET",s="",u=null,l={};t&&(l=t),l.api=l.api||"json",s=Object.keys(l).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(l[e])}).join("&");var c=e,f="";if(n){if(i=!1,a="POST",n instanceof FormData)u=n;else{u=new FormData;for(var p in n)u.append(p,n[p])}f=Object.keys(n).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(n[e])}).join("&")}c=e+"?"+s;var d=new XMLHttpRequest;if("responseType"in o&&(d.responseType=o.responseType),!n&&i&&this.cache&&this.cache[c])return Promise.resolve(this.cache[c]);var _='script[data-uri="'+c+'"]',v=document.querySelector(_);if(!n&&i&&v){var h=JSON.parse(v.innerText);return Promise.resolve(h)}d.withCredentials=!0,d.timeout=15e3;var b=this.xhrs.length;return n||this.xhrs.push(d),new Promise(function(e){return function(t,n){d.onreadystatechange=function(){var i=4,o=200,a=void 0;if(d.readyState===i){if(r.cache||(r.cache={}),d.status===o)if("application/json"==d.getResponseHeader("Content-Type")||"application/json; charset=utf-8"==d.getResponseHeader("Content-Type")||"text/json"==d.getResponseHeader("Content-Type")||"text/json; charset=utf-8"==d.getResponseHeader("Content-Type"))if(a=JSON.parse(d.responseText),0==a.code){var s=document.querySelector('script[data-uri="'+c+'"]'),u=window.prerenderer;u&&(s||(s=document.createElement("script"),s.type="text/json",s.setAttribute("data-uri",c),document.head.appendChild(s)),console.log(JSON.stringify(a)),s.innerText=JSON.stringify(a)),t(a)}else n(a);else t(d);else n("HTTP"+d.status);r.xhrs[e]=null}},d.open(a,c,!0),d.send(u)}}(b))}},{key:"cancel",value:function(){for(var e in this.xhrs)this.xhrs[e]&&this.xhrs[e].abort();this.xhrList=[]}},{key:"xhrs",get:function(){return this.xhrList=this.xhrList||[]}}]),e}()}),require.register("base/Router.js",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Router=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=t("./View"),a=(t("./Cache"),t("Config"));e.Router=function(){function e(){r(this,e)}return i(e,null,[{key:"listen",value:function(e){var t=this;window.addEventListener("popstate",function(n){n.preventDefault(),t.match(location.pathname,e)}),this.go(location.pathname+location.search)}},{key:"go",value:function(e,t){var n=void 0;n!==e&&(document.title=a.Config.title,setTimeout(function(){history.pushState(null,null,e),t||window.dispatchEvent(new Event("popstate"))},0),n=location.pathname+location.search)}},{key:"match",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.path!=e||n){var r=t.args.content,i=t.routes;this.path=e,this.query={};var a=new URLSearchParams(location.search);this.queryString=location.search;var s=!0,u=!1,l=void 0;try{for(var c,f=a[Symbol.iterator]();!(s=(c=f.next()).done);s=!0){var p=c.value;this.query[p[0]]=p[1]}}catch(d){u=!0,l=d}finally{try{!s&&f["return"]&&f["return"]()}finally{if(u)throw l}}var _={},v=!1,h="";e=e.substr(1).split("/");for(var b in this.query)_[b]=this.query[b];e:for(var y in i){var g=y.split("/");if(!(g.length<e.length)){for(var m in g)if("%"==g[m].substr(0,1)){var w=null,k=/^%(\w+)\??/.exec(g[m]);if(k&&k[1]&&(w=k[1]),!w)throw new Error(g[m]+' is not a valid argument segment in route "'+y+'"');if(e[m])_[w]=e[m];else{if("?"!=g[m].substr(g[m].length-1,1))continue e;_[w]=""}}else if(e[m]!==g[m])continue e;if("function"!=typeof i[y])return i[y];if(!n&&r&&r instanceof i[y]&&r.update(_))return t.args.content=r,!0;v=y,h=i[y];break}}if(v in i&&i[v]instanceof Object&&i[v].isView&&i[v].isView())h=new i[v](_),h.root=function(){return t};else if(i[v]instanceof Function){h="";var j=i[v](_);j instanceof Promise?j.then(function(e){t.args.content=e}):h=j}else i[v]instanceof Promise||(i[v]instanceof Object?h=new i[v](_):"string"==typeof i[v]&&(h=i[v]));t.args.content instanceof o.View&&t.args.content.remove();var T=new CustomEvent("cvRoute",{cancelable:!0,detail:{result:h,path:e,view:t}});return document.dispatchEvent(T)&&(t.args.content=h),h instanceof o.View&&(h.pause(!1),h.update(_,n)),v!==!1}}},{key:"clearCache",value:function(){}},{key:"queryOver",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};for(var n in this.query)t[n]=this.query[n];for(var r in e)t[r]=e[r];return delete t.api,t}},{key:"queryToString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[],r=e;t||(r=this.queryOver(e));for(var i in r)""!==r[i]&&n.push(i+"="+encodeURIComponent(r[i]));return n.join("&")}},{key:"setQuery",value:function(e,t,n){var r={};r[e]=t,this.go(this.path+"?"+this.queryToString(r),n)}}]),e}()}),require.register("base/Tag.js",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Tag=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=t("./Bindable");e.Tag=function(){function e(t,n,i,a,s){return r(this,e),this.element=o.Bindable.makeBindable(t),this.parent=n,this.direct=s,this.ref=i,this.index=a,this.proxy=o.Bindable.makeBindable(this),this.cleanup=[],this.proxy}return i(e,[{key:"remove",value:function(){o.Bindable.clearBindings(this);for(var e=void 0;e=this.cleanup.shift();)e();this.clear(),this.element=this.ref=this.parent=null}},{key:"clear",value:function(){if(this.element)for(var e=new Event("cvDomDetached");this.element.firstChild;)this.element.firstChild.dispatchEvent(e),this.element.removeChild(this.element.firstChild)}},{key:"pause",value:function(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0]}}]),e}()}),require.register("base/Theme.js",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();e.Theme=function(){function e(){r(this,e),this.views={"SeanMorris\\TheWhtRbt\\Location":{single:"twr9/LocationPreview",list:"twr9/LocationList"},"SeanMorris\\TheWhtRbt\\Image":{single:"DetailView",list:"DetailListView"}}}return i(e,[{key:"resolve",value:function(e){var t=void 0;if(Array.isArray(e)){for(var n in e){var r=e[n]["class"]||e[n].content_type;if(t&&t!==r)throw new Error("Model list mismatch!");t=r}return this.views[t]?this.views[t].list?this.views[t].list:this.views[t]:"DetailListView"}return!!e&&(t=e["class"]||e.content_type,this.views[t]?this.views[t].single?this.views[t].single:this.views[t]:"DetailView")}}]),e}()}),require.register("base/View.js",function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.View=void 0;var o=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=t("./Bindable"),u=t("./ViewList"),l=t("./Router"),c=(t("./Cookie"),t("./Dom"));t("./Tag"),e.View=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),this.args=s.Bindable.makeBindable(t),this._id=this.uuid(),this.args._id=this._id,this.template="",this.document="",this.parent=null,this.firstNode=null,this.lastNode=null,this.nodes=null,this.frames=[],this.timeouts=[],this.intervals=[],this.cleanup=[],this.attach=[],this.detach=[],this.eventCleanup=[],this.parent=null,this.viewList=null,this.viewLists={},this.tags={},this.intervals=[],this.timeouts=[],this.frames=[],this.interpolateRegex=/(\[\[((?:\$)?[\w\.]+)\]\])/g}return a(e,[{key:"onFrame",value:function(e){var t=function n(t){e(t),window.requestAnimationFrame(n)};t()}},{key:"onTimeout",value:function(e,t){var n=this,r=function(){n.timeouts[o].fired=!0,n.timeouts[o].callback=null,t()},i=setTimeout(r,e),o=this.timeouts.length;return this.timeouts.push({timeout:i,callback:r,time:e,fired:!1,created:(new Date).getTime(),paused:!1}),i}},{key:"clearTimeout",value:function(e){for(var t in this.timeouts)e===this.timeouts[t].timeout&&(clearInterval(this.timeouts[t].timeout),delete this.timeouts[t])}},{key:"onInterval",value:function(e,t){var n=setInterval(t,e);return this.intervals.push({timeout:n,callback:t,time:e,paused:!1}),n}},{key:"clearInterval",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){for(var t in this.intervals)e===this.intervals[t].timeout&&(clearInterval(this.intervals[t].timeout),delete this.intervals[t])})},{key:"pause",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(void 0===e&&(this.paused=!this.paused),this.paused=e,this.paused){for(var t in this.timeouts)this.timeouts[t].fired?delete this.timeouts[t]:clearTimeout(this.timeouts[t].timeout);for(var n in this.intervals)clearInterval(this.intervals[n].timeout)}else{for(var r in this.timeouts)this.timeouts[r].timeout.paused&&(this.timeouts[r].fired?delete this.timeouts[r]:this.timeouts[r].timeout=setTimeout(this.timeouts[r].callback,this.timeouts[r].time));
for(var i in this.intervals)this.intervals[i].timeout.paused&&(this.intervals[i].timeout.paused=!1,this.intervals[i].timeout=setInterval(this.intervals[i].callback,this.intervals[i].time))}for(var o in this.viewLists){if(!this.viewLists[o])return;this.viewLists[o].pause(!!e)}for(var a in this.tags)if(Array.isArray(this.tags[a]))for(var s in this.tags[a])this.tags[a][s].pause(!!e);else this.tags[a].pause(!!e)}},{key:"render",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.nodes){for(var r in this.detach)this.detach[r]();var i=function(r){var i=new Event("cvDomDetached",{bubbles:!0,target:e.nodes[r]}),o=new Event("cvDomAttached",{bubbles:!0,target:e.nodes[r]});e.nodes[r].dispatchEvent(i),c.Dom.mapTags(e.nodes[r],!1,function(e){e.dispatchEvent(i)}),t&&(n?t.insertBefore(e.nodes[r],n):t.appendChild(e.nodes[r])),c.Dom.mapTags(e.nodes[r],!1,function(e){e.dispatchEvent(o)}),e.nodes[r].dispatchEvent(o)};for(var o in this.nodes)i(o);for(var a in this.attach)this.attach[a]()}else{var s=void 0;this.template==document?s=this.template:this.document&&(s=this.document),s=document.createRange().createContextualFragment(this.template),this.document=s,c.Dom.mapTags(s,!1,function(t){t.matches?(t.matches("[cv-each]")&&e.mapEachTags(t),t.matches("[cv-with]")&&e.mapWithTags(t),t.matches("[cv-prerender]")&&e.mapPrendererTags(t),t.matches("[cv-link]")&&e.mapLinkTags(t),t.matches("[cv-bind]")&&e.mapBindTags(t),e.mapInterpolatableTags(t),t.matches("[cv-expand]")&&e.mapExpandableTags(t),t.matches("[cv-ref]")&&e.mapRefTags(t),t.matches("[cv-if]")&&e.mapIfTags(t),t.matches("[cv-on]")&&e.mapOnTags(t)):e.mapInterpolatableTags(t)}),this.nodes=[],this.firstNode=document.createComment("Template "+this._id+" Start"),this.nodes.push(this.firstNode),t&&(n?t.insertBefore(this.firstNode,n):t.appendChild(this.firstNode));for(var u=function(){var r=s.firstChild,i=new Event("cvDomAttached",{bubbles:!0,target:r});e.nodes.push(s.firstChild),t&&(n?t.insertBefore(s.firstChild,n):t.appendChild(s.firstChild)),c.Dom.mapTags(r,!1,function(e){e.dispatchEvent(i)}),r.dispatchEvent(i)};s.firstChild;)u();this.lastNode=document.createComment("Template "+this._id+" End"),this.nodes.push(this.lastNode),t&&(n?t.insertBefore(this.lastNode,n):t.appendChild(this.lastNode));for(var l in this.attach)this.attach[l]();this.postRender(t)}}},{key:"mapExpandableTags",value:function(e){var t=e.getAttribute("cv-expand"),n=s.Bindable.makeBindable(this.args[t]||{});e.removeAttribute("cv-expand");for(var r in n)"name"!=r&&"type"!=r&&n.bindTo(r,function(e,t){return function(n){e.setAttribute(t,n)}}(e,r))}},{key:"mapInterpolatableTags",value:function(t){var n=this,r=this.interpolateRegex;if(t.nodeType==Node.TEXT_NODE){var i=t.nodeValue;if(!this.interpolatable(i))return;for(var a=0,u=void 0;u=r.exec(i);){var l=u[2],c=!1;if("$"===l.substr(0,1)&&(c=!0,l=l.substr(1)),"000"!==l.substr(0,3)){var f=i.substring(a,u.index);a=u.index+u[1].length;var p=document.createTextNode(f);t.parentNode.insertBefore(p,t);var d=void 0;d=c?document.createElement("div"):document.createTextNode("");var _=this.args,v=l;if(l.match(/\./)){var h=s.Bindable.resolve(this.args,l,!0),b=o(h,2);_=b[0],v=b[1]}t.parentNode.insertBefore(d,t),_.bindTo(v,function(r,i){return function(o,a,s){s[a]instanceof e&&s[a].remove(),r.nodeValue="",o instanceof e?(o.render(t.parentNode,r),n.cleanup.push(function(e){return function(){e&&e.remove()}}(o))):i?r.innerHTML=o:r.nodeValue=o}}(d,c))}else expand=!0,l=l.substr(3)}var y=i.substring(a),g=document.createTextNode(y);t.parentNode.insertBefore(g,t),t.nodeValue=""}if(t.nodeType==Node.ELEMENT_NODE)for(var m=function(e){if(!n.interpolatable(t.attributes[e].value))return"continue";for(var i=0,a=void 0,u=t.attributes[e].value,l=t.attributes[e],c={},f=[];a=r.exec(u);)f.push(u.substring(i,a.index)),c[a[2]]||(c[a[2]]=[]),c[a[2]].push(f.length),f.push(a[1]),i=a.index+a[1].length;f.push(u.substring(i));for(var p in c){var d=n.args,_=p;if(p.match(/\./)){var v=s.Bindable.resolve(n.args,p,!0),h=o(v,2);d=h[0],_=h[1]}d.bindTo||(console.log(_),console.log(d)),d.bindTo(_,function(e,n){return function(r,i,o,a){for(var s in c)for(var u in c[n])f[c[n][u]]=o[s],i===e&&(f[c[n][u]]=r);t.setAttribute(l.name,f.join(""))}}(_,p))}},w=0;w<t.attributes.length;w++){m(w)}}},{key:"mapRefTags",value:function(e){var t=e.getAttribute("cv-ref"),n=t.split(":"),r=o(n,3),i=r[0],a=r[1],s=r[2],u=this.stringToClass(a);e.removeAttribute("cv-ref"),Object.defineProperty(e,"___tag___",{enumerable:!1,writable:!0}),this.cleanup.push(function(){e.___tag___=null,e.remove()});var l=this,c=this;this.viewList&&(l=this.viewList.parent);var f=new u(e,this,i,(void 0),c);if(e.___tag___=f,l){var p=this.args[s];void 0!==p?(l.tags[i]||(l.tags[i]=[]),l.tags[i][p]=f):l.tags[i]=f,l=l.parent}}},{key:"mapBindTags",value:function(t){var n=this,r=t.getAttribute("cv-bind");this.args.bindTo(r,function(n,r,i){if(i[r]===n,i[r]instanceof e&&i[r].remove(),"INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName){var o=t.getAttribute("type");return void(o&&"checkbox"==o.toLowerCase()?n?t.checked=!0:t.checked=!1:o&&"radio"==o.toLowerCase()?(console.log(t,n,t.value,r),n==t.value?t.checked=!0:t.checked=!1):"file"!==o&&(t.value=n||""))}n instanceof e?n.render(t):t.innerText=n});var i=function(e){"password"!==e.target.getAttribute("type"),e.target===t&&(n.args[r]=e.target.value)};t.addEventListener("input",i),t.addEventListener("change",i),t.addEventListener("value-changed",i),this.cleanup.push(function(e,t){return function(){e.removeEventListener("input",i),e.removeEventListener("change",i),e.removeEventListener("value-changed",i),e=void 0,t=void 0}}(t,i)),t.removeAttribute("cv-bind")}},{key:"mapOnTags",value:function(e){var t=this;String(e.getAttribute("cv-on")).split(/;/).map(function(e){return e.split(":")}).map(function(e,n){return function(i){var o=i[0].replace(/(^[\s\n]+|[\s\n]+$)/,""),a=i[1],s=[],u=/(\w+)(?:\(([$\w\s'",]+)\))?/.exec(a);u.length&&(a=u[1].replace(/(^[\s\n]+|[\s\n]+$)/,""),u[2]&&(s=u[2].split(",").map(function(e){return e.trim()})));for(var l=void 0,c=t;c;){if("function"==typeof c[a]){l=function(){var e;(e=c)[a].apply(e,arguments)};break}if(c.viewList&&c.viewList.parent)c=c.viewList.parent;else{if(!c.parent)break;c=c.parent}}var f=function(e,t,n,i){return function(o){var u=s.map(function(n){var r=void 0;return parseInt(n)==n?n:"event"===n||"$event"===n?o:"$view"===n?t:"$tag"===n?i:"$parent"===n?e.parent:"$subview"===n?e:n in e.args?e.args[n]:(r=/^['"](\w+?)["']$/.exec(n))?r[1]:void 0});if("function"!=typeof n)throw new Error(a+" is not defined on View object.\n\nTag:\n\n"+i.outerHTML);n.apply(void 0,r(u))}}(e,c,l,n);switch(o){case"_init":f();break;case"_attach":t.attach.push(f);break;case"_detach":t.detach.push(f);break;default:n.addEventListener(o,f),t.cleanup.push(function(e,t,n){return function(){e.removeEventListener(t,n),e=void 0,n=void 0}}(n,o,f))}return[o,a,s]}}(this,e));e.removeAttribute("cv-on")}},{key:"mapLinkTags",value:function(e){var t=e.getAttribute("cv-link");e.setAttribute("href",t);var n=function(n){return n.preventDefault(),"http"==t.substring(0,4)||"//"==t.substring(0,2)?void window.open(e.getAttribute("href",t)):void l.Router.go(e.getAttribute("href"))};e.addEventListener("click",n),this.cleanup.push(function(e,t){return function(){e.removeEventListener("click",t),e=void 0,t=void 0}}(e,n)),e.removeAttribute("cv-link")}},{key:"mapPrendererTags",value:function(e){var t=e.getAttribute("cv-prerender"),n=window.prerenderer;("never"==t&&n||"only"==t&&!n)&&e.parentNode.removeChild(e)}},{key:"mapWithTags",value:function(t){var n=t.getAttribute("cv-with"),r=t.getAttribute("cv-carry");t.removeAttribute("cv-with"),t.removeAttribute("cv-carry");var i=t.innerHTML,o=[];for(r&&(o=r.split(",").map(function(e){return e.trim()}));t.firstChild;)t.removeChild(t.firstChild);var a=new e;this.cleanup.push(function(e){return function(){e.remove()}}(a)),a.template=i,a.parent=this;for(var s in o)this.args.bindTo(o[s],function(e){return function(t,n){e.args[n]=t}}(a));for(var u in this.args[n])this.args[n].bindTo(u,function(e){return function(t,n){e.args[n]=t}}(a));a.render(t)}},{key:"mapEachTags",value:function(e){var t=this,n=e.getAttribute("cv-each"),r=e.getAttribute("cv-carry");e.removeAttribute("cv-each"),e.removeAttribute("cv-carry");for(var i=e.innerHTML;e.firstChild;)e.removeChild(e.firstChild);var a=[];r&&(a=r.split(","));var s=n.split(":"),l=o(s,3),c=l[0],f=l[1],p=l[2],d=void 0;this.args.bindTo(c,function(n,r){return function(o,a,s){t.viewLists[n]&&t.viewLists[n].remove();var l=new u.ViewList(i,f,o,p);l.parent=t,l.render(e);for(var c in r)t.args.bindTo(r[c],function(e,t){l.args.subArgs[t]=e});t.viewLists[n]=l}}(c,a)),this.viewLists[c]=d}},{key:"mapIfTags",value:function(t){var n=t.getAttribute("cv-if"),r=!1;"!"===n.substr(0,1)&&(r=!0,n=n.substr(1));for(var i=t.innerHTML;t.firstChild;)t.removeChild(t.firstChild);var a=document.createRange().createContextualFragment(""),u=new e;u.args=this.args,this.cleanup.push(function(e){return function(){e.remove()}}(u)),u.template=i,u.parent=this,u.render(t);var l=this.args,f=n;if(n.match(/\./)){var p=s.Bindable.resolve(this.args,n,!0),d=o(p,2);l=d[0],f=d[1]}l.bindTo(n,function(e,t){return function(n){var i=new Event("cvDomDetached"),o=new Event("cvDomAttached");if(r&&(n=!n),n)for(;t.firstChild;){var a=t.firstChild;e.prepend(a),a.dispatchEvent(o),c.Dom.mapTags(a,!1,function(e){e.dispatchEvent(o)})}else for(;e.firstChild;){var s=e.firstChild;t.prepend(s),s.dispatchEvent(i),c.Dom.mapTags(s,!1,function(e){e.dispatchEvent(i)})}}}(t,a)),t.removeAttribute("cv-if")}},{key:"postRender",value:function(e){}},{key:"interpolatable",value:function(e){return!!String(e).match(this.interpolateRegex)}},{key:"uuid",value:function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)})}},{key:"remove",value:function(){var e=new Event("cvDomDetached");for(var t in this.tags)if(Array.isArray(this.tags[t]))for(var n in this.tags[t])this.tags[t][n].remove();else this.tags[t].remove();for(var r in this.nodes)this.nodes[r].dispatchEvent(e),this.nodes[r].remove();for(var i=void 0;i=this.cleanup.shift();)i();for(var o in this.viewLists)this.viewLists[o]&&this.viewLists[o].remove();this.viewLists=[],s.Bindable.clearBindings(this)}},{key:"update",value:function(){}},{key:"beforeUpdate",value:function(e){}},{key:"afterUpdate",value:function(e){}},{key:"stringToClass",value:function(e){var n=e.split("/"),r=n[n.length-1],i=t(e);return i[r]}}],[{key:"isView",value:function(){return e}}]),e}()}),require.register("base/ViewList.js",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.ViewList=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=t("./Bindable"),a=t("./View"),s=function(){function e(t,n,i){var s=this,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;r(this,e),this.args=o.Bindable.makeBindable({}),this.args.value=o.Bindable.makeBindable(i||{}),this.args.subArgs=o.Bindable.makeBindable({}),this.views={},this.cleanup=[],this.template=t,this.subProperty=n,this.keyProperty=u,this.tag=null,this.paused=!1,this.args.value.___before___.push(function(e){"bindTo"!=e.___executing___&&(s.paused=!0)}),this.args.value.___after___.push(function(e){s.paused&&s.reRender(),s.paused=!1}),this.args.value.bindTo(function(e,t,n,r){if(!s.paused){if(r)return s.views[t].remove(),void delete s.views[t];if(!s.views[t]){var i=new a.View;s.views[t]=i,s.views[t].template=s.template,s.views[t].parent=s.parent,s.views[t].viewList=s,s.args.subArgs.bindTo(function(e,t,n,r){i.args[t]=e}),s.views[t].args[s.subProperty]=e,s.keyProperty&&(s.views[t].args[s.keyProperty]=t),n[t]=e,s.reRender()}s.views[t].args[s.subProperty]=e}})}return i(e,[{key:"render",value:function(e){for(var t in this.views)this.views[t].render(e);this.tag=e}},{key:"reRender",value:function(){var e=this;if(this.tag){var t=[];for(var n in this.views)t[n]=this.views[n];var r=[],i=function(n){var i=!1;for(var o in t)if(t[o]&&e.args.value[n]===t[o].args[e.subProperty]){i=!0,r[n]=t[o],delete t[o];break}if(!i){var s={};s[e.subProperty]=e.args.value[n],r[n]=new a.View(s),r[n].template=e.template,r[n].parent=e.parent,r[n].viewList=e,r[n].args[e.keyProperty]=n,e.args.subArgs.bindTo(function(e,t,i,o){r[n].args[t]=e})}};for(var o in this.args.value)i(o);for(var s in this.views){var u=!1;for(var l in r)if(this.views[s]===r[l]){u=!0;break}u||this.views[s].remove()}var c=!0;for(var f in this.views)this.views[f]!==r[f]&&(c=!1);if(c)for(var p=this.views.length||0;r[p];)r[p].render(this.tag),p++;else{for(var d in this.views)this.views[d].remove();for(;this.tag.firstChild;)this.tag.removeChild(this.tag.firstChild);for(var _ in r)r[_].render(this.tag)}this.views=r}}},{key:"pause",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];for(var t in this.views)this.views[t].pause(e)}},{key:"remove",value:function(){for(var e in this.views)this.views[e].remove();for(var t=void 0;t=this.cleanup.pop();)t();for(this.views=[];this.tag&&this.tag.firstChild;)this.tag.removeChild(this.tag.firstChild)}}]),e}();e.ViewList=s}),require.register("form/ButtonField.js",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0}),e.ButtonField=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=t("./Field");e.ButtonField=function(e){function t(e,n,o,a){r(this,t);var s=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o,a));return s.args.title=s.args.title||s.args.value,s.template='\n\t\t\t<label\n\t\t\t\tfor = "'+s.args.name+'"\n\t\t\t\tdata-type = "'+s.args.attrs.type+'"\n\t\t\t\tcv-ref = "label:curvature/base/Tag">\n\t\t\t\t<input\n\t\t\t\t\tname   = "'+s.args.name+'"\n\t\t\t\t\ttype   = "'+s.args.attrs.type+'"\n\t\t\t\t\tvalue  = "[[title]]"\n\t\t\t\t\tcv-on  = "click:clicked(event)"\n\t\t\t\t\tcv-ref = "input:curvature/base/Tag"\n\t\t\t\t/>\n\t\t\t</label>\n\t\t',s}return o(t,e),a(t,[{key:"clicked",value:function(e){"submit"==this.args.attrs.type&&(e.preventDefault(),e.stopPropagation(),this.form.tags.formTag.element.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0})))}}]),t}(s.Field)}),require.register("form/Field.js",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0}),e.Field=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=(t("curvature/base/Bindable"),t("../base/View"));e.Field=function(e){function t(e,n,o,a){r(this,t);var s=Object.assign(e),u=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));u.args.title=u.args.title||"",u.args.value=u.args.value||"",u.skeleton=s,u.disabled=null,u.args.valueString="",u.form=n,u.parent=o,u.key=a,u.ignore=u.args.attrs["data-cv-ignore"]||!1;var l=null;u.args.bindTo("value",function(e,t){l!=a&&(u.args.valueString=JSON.stringify(e||"",null,4),l=a,"file"==u.args.attrs.type?u.tags.input&&u.tags.input.element.files&&(console.log(u.tags.input.element.files[0]),u.parent.args.value[a]=u.tags.input.element.files[0]):(u.parent.args.value||(u.parent.args.value={}),u.parent.args.value[a]=e),l=null)}),u.parent.args.value.bindTo(a,function(e,t){l!=t&&(l=t,"file"==u.args.attrs.type?u.tags.input&&u.tags.input.element.files&&(u.args.value=u.tags.input.element.files[0]):u.args.value=e,l=null)});var c="";return"checkbox"==u.args.attrs.type&&(c='value = "1"'),u.template='\n\t\t\t<label\n\t\t\t\tfor           = "'+u.args.name+'"\n\t\t\t\tdata-type     = "'+u.args.attrs.type+'"\n\t\t\t\tcv-ref        = "label:curvature/base/Tag"\n\t\t\t>\n\t\t\t\t<span cv-if = "title">\n\t\t\t\t\t<span cv-ref = "title:curvature/base/Tag">[[title]]</span>\n\t\t\t\t</span>\n\t\t\t\t<input\n\t\t\t\t\tname      = "'+u.args.name+'"\n\t\t\t\t\ttype      = "'+(u.args.attrs.type||"text")+'"\n\t\t\t\t\tcv-bind   = "value"\n\t\t\t\t\tcv-ref    = "input:curvature/base/Tag"\n\t\t\t\t\tcv-expand = "attrs"\n\t\t\t\t\t'+c+"\n\t\t\t\t/>\n\t\t\t</label>\n\t\t",u}return o(t,e),a(t,[{key:"disable",value:function(){this.hasChildren(),this.disabled="disabled"}},{key:"enable",value:function(){this.hasChildren(),this.disabled=!1}},{key:"hasChildren",value:function(){return!1}},{key:"getName",value:function(){return this.tags.input?this.tags.input.element.getAttribute("name"):this.args.name}}]),t}(s.View)}),require.register("form/FieldSet.js",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0}),e.FieldSet=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=t("./Field"),u=t("./Form");e.FieldSet=function(e){function t(e,n,o,a){r(this,t);var s=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o,a));return s.args.value={},s.args.fields=u.Form.renderFields(e.children,s),s.template='\n\t\t\t<label\n\t\t\t\tfor        = "'+s.args.name+'"\n\t\t\t\tdata-type  = "'+s.args.attrs.type+'"\n\t\t\t\tdata-multi = "'+(s.args.attrs["data-multi"]?"true":"false")+'"\n\t\t\t\tcv-ref     = "label:curvature/base/Tag"\n\t\t\t>\n\t\t\t\t<span cv-if = "title">\n\t\t\t\t\t<span cv-ref = "title:curvature/base/Tag">[[title]]</span>\n\t\t\t\t</span>\n\t\t\t\t<fieldset\n\t\t\t\t\tname   = "'+s.args.name+'"\n\t\t\t\t\tcv-ref = "input:curvature/base/Tag"\n\t\t\t\t\tcv-expand="attrs"\n\t\t\t\t\tcv-each = "fields:field"\n\t\t\t\t>\n\t\t\t\t\t[[field]]\n\t\t\t\t</fieldset>\n\t\t\t</label>\n\t\t',s}return o(t,e),a(t,[{key:"hasChildren",value:function(){return!!Object.keys(this.args.fields).length}},{key:"wrapSubfield",value:function(e){return e}}]),t}(s.Field)}),require.register("form/FileField.js",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0}),e.FileField=void 0;var a=t("./Field");e.FileField=function(e){function t(e,n,o,a){r(this,t);var s=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o,a));return s.template='\n\t\t\t<label\n\t\t\t\tfor       = "'+s.args.name+'"\n\t\t\t\tdata-type = "'+s.args.attrs.type+'"\n\t\t\t\tcv-ref    = "label:curvature/base/Tag">\n\t\t\t>\n\t\t\t\t<input\n\t\t\t\t\t\tname    = "'+s.args.name+'"\n\t\t\t\t\t\ttype    = "'+s.args.attrs.type+'"\n\t\t\t\t\t\tcv-bind = "value"\n\t\t\t\t\t\tcv-ref  = "input:curvature/base/Tag"\n\t\t\t\t/>\n\t\t\t\t<span style = "display:none" cv-if = "value">[[[value]]]</span>\n\t\t\t</label>\n\t\t',s}return o(t,e),t}(a.Field)}),require.register("form/Form.js",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0}),e.Form=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=t("../base/View"),u=t("./Field"),l=t("./FieldSet"),c=t("./SelectField"),f=t("./RadioField"),p=t("./HtmlField"),d=t("./HiddenField"),_=t("./ButtonField");e.Form=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{}));return o.args.flatValue=o.args.flatValue||{},o.args.value=o.args.value||{},o.args.method=e._method||"GET",o.args.classes=o.args.classes||[],o.args.bindTo("classes",function(e){o.args._classes=e.join(" ")}),o._onSubmit=[],o.action="",o.template='\n\t\t\t<form\n\t\t\t\tclass   = "[[_classes]]"\n\t\t\t\tmethod  = "[[method]]"\n\t\t\t\tenctype = "multipart/form-data"\n\t\t\t\tcv-on   = "submit:submit(event)"\n\t\t\t\tcv-ref  = "formTag:curvature/base/Tag"\n\t\t\t\tcv-each = "fields:field"\n\t\t\t>\n\t\t\t\t[[field]]\n\t\t\t</form>\n\t\t',o.args.fields=t.renderFields(e,o,n),o.args.bindTo("value",function(e){o.args.valueString=JSON.stringify(e,null,4)}),o}return o(t,e),a(t,[{key:"submitHandler",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"submit",value:function(e){this.args.valueString=JSON.stringify(this.args.value,null,4);for(var t in this._onSubmit)this._onSubmit[t](this,e)}},{key:"buttonClick",value:function(e){}},{key:"onSubmit",value:function(e){this._onSubmit.push(e)}},{key:"formData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];e||(e=new FormData),t||(t=this);for(var r in t.args.fields)if(!t.args.fields[r]||!t.args.fields[r].disabled){var i=n.slice(0);if(i.push(r),t.args.fields[r]&&t.args.fields[r].hasChildren())this.formData(e,t.args.fields[r],i);else if(t.args.fields[r]){var o=t.args.fields[r].getName();"file"==t.args.fields[r].args.type?e.append(o,t.args.fields[r].tags.input.element.files[0]):e.append(o,t.args.fields[r].args.value)}}return e}},{key:"queryString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[];for(var n in this.args.flatValue)e[n]=e[n]||this.args.flatValue[n];for(var r in e)t.push(r+"="+encodeURIComponent(e[r]));return t.join("&")}},{key:"populate",value:function(e){for(var t in e)this.args.value[t]=e[t]}},{key:"hasChildren",value:function(){return!!Object.keys(this.args.fields).length}}],[{key:"renderFields",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={},o=function(o){if(i[o])return"continue";if("_"==o.substr(0,1))return"continue";var a=null,s=null;if(n&&(s=n instanceof t?n:n.form),e[o].name in r)a=new r[e[o].name](e[o],s,n,o);else switch(e[o].type){case"fieldset":a=new l.FieldSet(e[o],s,n,o);break;case"select":a=new c.SelectField(e[o],s,n,o);break;case"radios":a=new f.RadioField(e[o],s,n,o);break;case"html":a=new p.HtmlField(e[o],s,n,o);break;case"submit":case"button":a=new _.ButtonField(e[o],s,n,o);break;case"hidden":a=new d.HiddenField(e[o],s,n,o);break;default:a=new u.Field(e[o],s,n,o)}i[o]=a,a.args.bindTo("value",function(e,t,n,r){if(("html"!=n.type||n.contentEditable)&&"fieldset"!=n.type){var i=a.getName();return n.disabled?void delete s.args.flatValue[i]:void(s.args.flatValue[i]=e)}})};for(var a in e){o(a)}return i}}]),t}(s.View)}),require.register("form/HiddenField.js",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0}),e.HiddenField=void 0;var a=t("./Field");e.HiddenField=function(e){function t(e,n,o,a){r(this,t);var s=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o,a));return s.args.attrs.type=s.args.attrs.type||"hidden",s.template='\n\t\t\t<label\n\t\t\t\tfor       = "'+s.args.name+'"\n\t\t\t\tdata-type = "'+s.args.attrs.type+'"\n\t\t\t\tstyle     = "display:none"\n\t\t\t\tcv-ref    = "label:curvature/base/Tag">\n\t\t\t\t<input\n\t\t\t\t\t\tname    = "'+s.args.name+'"\n\t\t\t\t\t\ttype    = "'+s.args.attrs.type+'"\n\t\t\t\t\t\tcv-bind = "value"\n\t\t\t\t\t\tcv-ref  = "input:curvature/base/Tag"\n\t\t\t\t/>\n\t\t\t\t<span cv-if = "value">[[[value]]]</span>\n\t\t\t</label>\n\t\t',s}return o(t,e),t}(a.Field)}),require.register("form/HtmlField.js",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0}),e.HtmlField=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=t("../base/View");e.HtmlField=function(e){function t(e,n,o,a){r(this,t);var s=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o,a));return s.ignore=s.args.attrs["data-cv-ignore"]||!1,s.args.contentEditable=s.args.attrs.contenteditable||!1,s.template='<div\n\t\t\tname            = "'+s.args.name+'"\n\t\t\tcv-ref          = "input:curvature/base/Tag"\n\t\t\tcontenteditable = "[[contentEditable]]"\n\t\t>[[$value]]</div>',s}return o(t,e),a(t,[{key:"hasChildren",value:function(){return!1}},{key:"disable",value:function(){this.args.disabled="disabled"}},{key:"getName",value:function(){return this.tags.input?this.tags.input.element.getAttribute("name"):this.args.name}}]),t}(s.View)}),require.register("form/RadioField.js",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0}),e.RadioField=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=t("./Field");e.RadioField=function(e){function t(e,n,o,a){r(this,t);var s=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o,a));return s.template='\n\t\t\t<label\n\t\t\t\tfor       = "'+s.args.name+'"\n\t\t\t\tdata-type = "'+s.args.attrs.type+'"\n\t\t\t\tcv-ref    = "label:curvature/base/Tag">\n\t\t\t\t<span cv-if = "title">\n\t\t\t\t\t<span cv-ref = "title:curvature/base/Tag">[[title]]</span>\n\t\t\t\t</span>\n\t\t\t\t<span\n\t\t\t\t\tcv-each  = "options:option:optionText"\n\t\t\t\t\tcv-carry = "value"\n\t\t\t\t\t--cv-ref  = "input:curvature/base/Tag"\n\t\t\t\t/>\n\t\t\t\t\t<label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tname    = "'+s.args.name+'"\n\t\t\t\t\t\t\ttype    = "radio"\n\t\t\t\t\t\t\tvalue   = "[[option]]"\n\t\t\t\t\t\t\tcv-bind = "value"\n\t\t\t\t\t/>\n\t\t\t\t\t\t[[optionText]]\n\t\t\t\t\t</label>\n\t\t\t\t</span>\n\t\t\t</label>\n\t\t',s}return o(t,e),a(t,[{key:"getLabel",value:function(){for(var e in this.args.options)if(this.args.options[e]==this.args.value)return e}}]),t}(s.Field)}),require.register("form/SelectField.js",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0}),e.SelectField=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=t("./Field");e.SelectField=function(e){function t(e,n,o,a){r(this,t);var s=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o,a));return s.template='\n\t\t\t<label\n\t\t\t\tfor       = "'+s.args.name+'"\n\t\t\t\tdata-type = "'+s.args.attrs.type+'"\n\t\t\t\tcv-ref    = "label:curvature/base/Tag">\n\t\t\t\t<span cv-if = "title">\n\t\t\t\t\t<span cv-ref = "title:curvature/base/Tag">[[title]]</span>\n\t\t\t\t</span>\n\t\t\t\t<select\n\t\t\t\t\tname    = "'+s.args.name+'"\n\t\t\t\t\tcv-bind = "value"\n\t\t\t\t\tcv-each = "options:option:optionText"\n\t\t\t\t\tcv-ref  = "input:curvature/base/Tag"\n\t\t\t\t/>\n\t\t\t\t\t<option value = "[[option]]">[[optionText]]</option>\n\t\t\t\t</select>\n\t\t\t</label>\n\t\t',
s}return o(t,e),a(t,[{key:"getLabel",value:function(){for(var e in this.args.options)if(this.args.options[e]==this.args.value)return e}}]),t}(s.Field)}),require.register("index.js",function(e,t,n){"use strict"}),require.register("input/Keyboard.js",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Keyboard=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=t("../base/Bindable");e.Keyboard=function(){function e(){var t=this;r(this,e),this.maxDecay=60,this.listening=!0,this.keys=o.Bindable.makeBindable({}),this.codes=o.Bindable.makeBindable({}),document.addEventListener("keyup",function(e){t.keys[e.key]=-1,t.codes[e.code]=-1}),document.addEventListener("keydown",function(e){t.keys[e.key]>0||(t.keys[e.key]=1,t.codes[e.code]=1)})}return i(e,[{key:"getKey",value:function(e){return this.keys[e]?this.keys[e]:0}},{key:"getKeyCode",value:function(e){return this.codes[e]?this.codes[e]:0}},{key:"update",value:function(){for(var e in this.keys)this.keys[e]>0?this.keys[e]++:(this.keys[e]--,this.keys[e]<-this.maxDecay&&delete this.keys[e]);for(var e in this.codes)this.codes[e]>0?this.codes[e]++:(this.codes[e]--,this.codes[e]<-this.maxDecay&&delete this.keys[e])}}]),e}()}),require.register("tag/LazyTag.js",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0}),e.LazyTag=void 0;var a=t("./ScrollTag"),s=t("curvature/base/Dom");e.LazyTag=function(e){function t(e,n,o,a,u){r(this,t);var l=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o,a,u));return l.element.classList.remove("cv-visible"),l.element.classList.add("cv-not-visible"),l.bindTo("visible",function(e){e&&(l.afterScroll&&clearTimeout(l.afterScroll),l.afterScroll=setTimeout(function(){l.element&&(l.element.classList.add("cv-visible"),l.element.classList.remove("cv-not-visible"),s.Dom.mapTags(l.element,"[cv-lazy-style]",function(e){var t=e.getAttribute("cv-lazy-style"),n=e.getAttribute("style");e.setAttribute("style",n+";"+t),e.removeAttribute("cv-lazy-style")}))},.5*(l.offsetTop||l.element.offsetTop)+.5*l.element.offsetLeft))}),l}return o(t,e),t}(a.ScrollTag)}),require.register("tag/PopOutTag.js",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0}),e.PopOutTag=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function c(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:c(i,t,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},u=(t("../base/Bindable"),t("../base/Dom")),l=t("../base/Tag");e.PopOutTag=function(e){function t(e,n,o,a,s){r(this,t);var u=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o,a,s));return u.poppedOut=!1,u.style=e.getAttribute("style"),u.moving=!1,u.leftDuration=0,u.topDuration=0,u.unpoppedStyle="",u.previousScroll=0,u.bodyStyle="",u.bodyScroll=0,u.element.classList.add("unpopped"),u.scrollStyle,u.popTimeout=null,u.element.addEventListener("cvDomDetached",u.detachListener),u.rect,u.clickListener=function(e){u.rect||(u.rect=u.element.getBoundingClientRect()),u.poppedOut||(u.distance=Math.sqrt(Math.pow(u.rect.top,2)+Math.pow(u.rect.left,2)),u.distance||(u.distance=200),u.leftDuration||(u.leftDuration=(1-1/u.rect.left)/4,u.topDuration=(1-1/u.rect.top)/4,u.leftDuration=Math.round(1e3*u.leftDuration)/1e3,u.topDuration=Math.round(1e3*u.topDuration)/1e3)),u.element.contains(e.target)&&(e.stopPropagation(),e.preventDefault(),u.moving||(u.poppedOut?e.target.matches(".closeButton")&&u.poppedOut&&u.unpop():u.pop()))},u.element.___clickListener___||(Object.defineProperty(u.element,"___scrollListeners___",{enumerable:!1,writable:!0}),u.element.___clickListener___=u.clickListener,u.element.addEventListener("click",e.___clickListener___),u.cleanup.push(function(e){return function(){e.removeEventListener("click",e.___clickListener___)}}(e))),u}return o(t,e),a(t,[{key:"pause",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"pause",this).call(this,e),e&&(document.body.setAttribute("style",this.bodyStyle),document.body.setAttribute("style",""))}},{key:"pop",value:function(){var e=this;t.popLevel(),this.rect||(this.rect=this.element.getBoundingClientRect()),this.previousScroll=window.scrollY,this.unpoppedStyle="\n\t\t\t;position:  fixed;\n\t\t\tleft:       "+this.rect.x+"px;\n\t\t\ttop:        "+this.rect.y+"px;\n\t\t\twidth:      "+this.rect.width+"px;\n\t\t\theight:     "+this.rect.height+"px;\n\t\t\tz-index:    99999;\n\t\t\ttransition: width "+this.leftDuration+"s ease-out\n\t\t\t\t\t\t, height "+this.topDuration+"s ease-out\n\t\t\t\t\t\t, all "+this.leftDuration+"s ease-out;\n\t\t\toverflow: hidden;\n\t\t",this.style=this.element.getAttribute("style");var n=this.style+this.unpoppedStyle;this.element.setAttribute("style",n),this.popTimeout=setTimeout(function(){n+="\n\t\t\t\t;top:   0px;\n\t\t\t\tleft:   0px;\n\t\t\t\twidth:  100%;\n\t\t\t\theight: 100%;\n\t\t\t\toverflow-y: auto;\n\t\t\t\ttransition: width "+e.leftDuration+"s ease-out\n\t\t\t\t\t, height "+e.topDuration+"s ease-out\n\t\t\t\t\t, all "+e.leftDuration+"s ease-out;\n\t\t\t",e.moving=!0,e.element.classList.add("popped"),e.element.classList.remove("unpopped"),e.element.setAttribute("style",n),e.popTimeout=setTimeout(function(){if(e.element){e.bodyStyle=document.body.getAttribute("style"),document.body.setAttribute("style","height:100%;overflow:hidden;"),e.moving=!1,u.Dom.mapTags(e.element,!1,function(t){var n=new CustomEvent("cvPopped");t.dispatchEvent(n),e.scrollStyle=e.element.getAttribute("style")});var t=new CustomEvent("cvPop",{bubbles:!0,detail:{tag:e,view:e.parent,publicId:e.parent.args.publicId}});e.element.dispatchEvent(t)}},1e3*e.leftDuration)},1),this.poppedOut=!0}},{key:"unpop",value:function(){var e=this;this.element.classList.add("unpopping"),this.popTimeout&&clearTimeout(this.popTimeout),0==t.level?document.body.setAttribute("style",""):document.body.setAttribute("style",this.bodyStyle||""),t.unpopLevel(),this.rect||(this.rect=this.element.getBoundingClientRect()),window.scrollTo(0,this.previousScroll);var n=this.style+this.unpoppedStyle+(";transition: width "+this.leftDuration+"s ease-out\n\t\t\t\t\t, height "+this.topDuration+"s ease-out\n\t\t\t\t\t, all "+this.leftDuration+"s ease-out;");this.element.setAttribute("style",n),this.moving=!0,setTimeout(function(){e.element&&e.element.classList.remove("popped")},500*this.leftDuration),setTimeout(function(){if(e.element.classList.add("unpopped"),e.element.classList.remove("unpopping"),e.element){e.element.setAttribute("style",e.style),e.moving=!1,u.Dom.mapTags(e.element,!1,function(e){var t=new CustomEvent("cvUnpopped");e.dispatchEvent(t)});var t=new CustomEvent("cvUnpop",{bubbles:!0,detail:{tag:e,view:e.parent,publicId:e.parent.args.publicId}});e.element.dispatchEvent(t)}},1e3*this.leftDuration),this.poppedOut=!1}},{key:"remove",value:function(){document.body.setAttribute("style",this.bodyStyle),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this)}}],[{key:"popLevel",value:function(){return this.level||(this.level=0),this.level++,this.level}},{key:"unpopLevel",value:function(){return this.level||(this.level=0),this.level--,this.level<0&&(this.level=0),this.level}}]),t}(l.Tag)}),require.register("tag/ScrollTag.js",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollTag=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=t("../base/Tag"),u=t("../base/Dom");t("../base/Bindable"),e.ScrollTag=function(e){function t(e,n,o,a,s){r(this,t);var l=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o,a,s));return l.visible=!1,l.offsetTop=!1,l.offsetBottom=!1,l.attachListener=function(t){for(var n=t.target;n.parentNode;)n=n.parentNode;n!==window&&n!==document||t.target===e&&(l.addScrollListener(t.target),l.addResizeListener(t.target),l.scrolled(t.target),t.target.removeEventListener("cvDomAttached",l.attachListener))},l.element.addEventListener("cvDomAttached",l.attachListener),l.cleanup.push(function(e){return function(){e.removeEventListener("cvDomAttached",l.attachListener)}}(l.element)),l.bindTo("visible",function(e){var t=void 0;t=e?new Event("cvScrolledIn"):new Event("cvScrolledOut"),u.Dom.mapTags(l.element,!1,function(e){e.dispatchEvent(t)}),l.element.dispatchEvent(t)}),l.bindTo("offsetTop",function(e){var t=new CustomEvent("cvScrolled",{detail:{offset:e}});u.Dom.mapTags(l.element,!1,function(e){e.dispatchEvent(t)}),l.element.dispatchEvent(t)}),l}return o(t,e),a(t,[{key:"scrolled",value:function(e){var t=this.element;if(t){var n=!1,r=t.getBoundingClientRect();r.bottom>0&&r.top<window.innerHeight&&(n=!0),this.proxy.visible=n,this.proxy.offsetTop=r.top||0,this.proxy.offsetBottom=r.bottom||0}}},{key:"addScrollListener",value:function(e){var t=this;if(!e.___scrollListener___){Object.defineProperty(e,"___scrollListener___",{enumerable:!1,writable:!0}),e.___scrollListener___=function(e){t.scrolled(e.target)};for(var n=e,r={passive:!0,capture:!0};n.parentNode;)n=n.parentNode,n.addEventListener("scroll",e.___scrollListener___,r),this.direct.cleanup.push(function(e,t,n){return function(){e.removeEventListener("scroll",t.___scrollListener___,n),t=e=null}}(n,e,r))}}},{key:"addResizeListener",value:function(e){var t=this;e.___resizeListener___||(Object.defineProperty(e,"___resizeListener___",{enumerable:!1,writable:!0}),e.___resizeListener___=function(e){t.scrolled(e.target)},window.addEventListener("resize",this.resizeListener),this.direct.cleanup.push(function(t){return function(){window.removeEventListener("resize",t.___resizeListener___),e.___resizeListener___=null,e=null}}(e)))}}]),t}(s.Tag)}),require.register("toast/Toast.js",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0}),e.Toast=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=t("../base/View"),u=t("./ToastAlert");e.Toast=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.template='\n\t\t\t<div id = "[[_id]]" cv-each = "alerts:alert" class = "toast">\n\t\t\t\t[[alert]]\n\t\t\t</div>\n\t\t',e.args.alerts=[],e.args.alerts.bindTo(function(e){console.log(e)}),e}return o(t,e),a(t,null,[{key:"instance",value:function(){return this.inst||(this.inst=new this),this.inst}}]),a(t,[{key:"pop",value:function(e){var t=this;this.args.alerts.length;this.args.alerts.push(e),e.decay(function(e){return function(){for(var n in t.args.alerts)if(t.args.alerts)return t.args.alerts[n]===e,void t.args.alerts.splice(n,1)}}(e))}},{key:"alert",value:function(e,t,n){return this.pop(new u.ToastAlert({title:e,body:t,time:n}))}}]),t}(s.View)}),require.register("toast/ToastAlert.js",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0}),e.ToastAlert=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=t("../base/View");e.ToastAlert=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.args.time=n.args.time||1e4,n.init=n.args.time,n.args.opacity=1,n.args.title=n.args.title||"Standard alert",n.args.body=n.args.body||"This is a standard alert.",n.template='\n\t\t\t<div id = "[[_id]]" style = "opacity:[[opacity]]" class = "alert">\n\t\t\t\t<h3>[[title]]</h3>\n\t\t\t\t<p>[[body]]</p>\n\t\t\t</div>\n\t\t',n}return o(t,e),a(t,[{key:"decay",value:function n(e){var t=this,r=16,n=setInterval(function(){t.args.time>0&&(t.args.time-=r,t.args.opacity=t.args.time/t.init,t.args.time<=0&&(e&&e(),clearInterval(n)))},r)}}]),t}(s.View)}),require.register("___globals___",function(e,t,n){})}(),require("___globals___");